(this.webpackJsonpedulabs=this.webpackJsonpedulabs||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){},,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(2),r=n.n(s),c=n(24),i=n.n(c),o=n(9),u=n(10),l=n(1),d=n.n(l),h=n(3),p=n(5),j=n(6),m=n(4),b=n(8),f=n(7),v="http://141.136.35.33:8000";function O(e){return JSON.parse(localStorage.getItem(e))}function x(){return!!O("token")}function g(){var e;e="token",localStorage.removeItem(e)}var y=n(17);n(32);function k(){var e=Object(s.useState)(!1),t=Object(y.a)(e,2),n=t[0],r=t[1];return Object(a.jsxs)("div",{id:"header",children:[Object(a.jsx)("div",{className:"hamburger-button",onClick:function(){n?(S(),r(!1)):(w(),r(!0))},children:Object(a.jsxs)("div",{className:"hamburger",id:"hamburger",children:[Object(a.jsx)("div",{className:"line",id:"hamburger-line-1"}),Object(a.jsx)("div",{className:"line",id:"hamburger-line-2"}),Object(a.jsx)("div",{className:"line",id:"hamburger-line-3"})]})}),Object(a.jsx)("div",{style:{flex:1}})]})}var w=function(){document.getElementById("menu").style.left="0px",document.getElementById("hamburger-line-1").style.width="90%",document.getElementById("hamburger-line-2").style.width="70%",document.getElementById("hamburger-line-3").style.width="40%"},S=function(){document.getElementById("menu").style.left="-100vw",document.getElementById("hamburger-line-1").style.width="100%",document.getElementById("hamburger-line-2").style.width="100%",document.getElementById("hamburger-line-3").style.width="100%"},N=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(){return Object(p.a)(this,n),t.call(this)}return Object(j.a)(n,null,[{key:"login",value:function(){var e=Object(h.a)(d.a.mark((function e(t){var n,a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Headers).append("Content-Type","application/json"),a=JSON.stringify({email:t.email,password:t.password}),s={method:"POST",headers:n,body:a,redirect:"follow"},e.abrupt("return",fetch(v+"/api/auth/login",s).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=Object(h.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Headers).append("Content-Type","application/json"),n.append("auth-token",t),a={method:"GET",headers:n,redirect:"follow"},e.abrupt("return",fetch(v+"/api/auth/user",a).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserSubjects",value:function(){var e=Object(h.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Headers).append("Content-Type","application/json"),n.append("auth-token",t),a={method:"GET",headers:n,redirect:"follow"},e.abrupt("return",fetch(v+"/api/subjects",a).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSubject",value:function(){var e=Object(h.a)(d.a.mark((function e(t,n){var a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("Content-Type","application/json"),a.append("auth-token",n),s={method:"GET",headers:a,redirect:"follow"},e.abrupt("return",fetch(v+"/api/subjects/"+t,s).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getClassroom",value:function(){var e=Object(h.a)(d.a.mark((function e(t,n){var a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("Content-Type","application/json"),a.append("auth-token",n),s={method:"GET",headers:a,redirect:"follow"},e.abrupt("return",fetch(v+"/api/classrooms/"+t,s).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getTeacherClassroomsBySubject",value:function(){var e=Object(h.a)(d.a.mark((function e(t,n){var a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("Content-Type","application/json"),a.append("auth-token",n),s={method:"GET",headers:a,redirect:"follow"},e.abrupt("return",fetch(v+"/api/subjects/classrooms/"+t,s).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getTeacherClassroomStudentsBySubject",value:function(){var e=Object(h.a)(d.a.mark((function e(t,n,a){var s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=new Headers).append("Content-Type","application/json"),s.append("auth-token",a),r={method:"GET",headers:s,redirect:"follow"},e.abrupt("return",fetch(v+"/api/students/"+t+"/"+n,r).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e})));case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"getTeacherUser",value:function(){var e=Object(h.a)(d.a.mark((function e(t,n){var a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("Content-Type","application/json"),a.append("auth-token",n),s={method:"GET",headers:a,redirect:"follow"},e.abrupt("return",fetch(v+"/api/teacher/students/"+t,s).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createGrade",value:function(){var e=Object(h.a)(d.a.mark((function e(t,n){var a,s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("Content-Type","application/json"),a.append("auth-token",n),s=JSON.stringify(t),r={method:"POST",headers:a,body:s,redirect:"follow"},e.abrupt("return",fetch(v+"/api/grades/",r).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e})));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getGradesByUserAndSubject",value:function(){var e=Object(h.a)(d.a.mark((function e(t,n,a){var s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=new Headers).append("Content-Type","application/json"),s.append("auth-token",a),r={method:"GET",headers:s,redirect:"follow"},e.abrupt("return",fetch(v+"/api/teacher/grades/"+t+"/"+n,r).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e})));case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"updateUserData",value:function(){var e=Object(h.a)(d.a.mark((function e(t,n,a){var s,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=new Headers).append("Content-Type","application/json"),s.append("auth-token",a),r=JSON.stringify(n),c={method:"POST",headers:s,body:r,redirect:"follow"},e.abrupt("return",fetch(v+"/api/admin/users/update/"+t,c).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e})));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"getAdminUser",value:function(){var e=Object(h.a)(d.a.mark((function e(t,n){var a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("Content-Type","application/json"),a.append("auth-token",n),s={method:"GET",headers:a,redirect:"follow"},e.abrupt("return",fetch(v+"/api/admin/users/"+t,s).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAdminClassroomStudents",value:function(){var e=Object(h.a)(d.a.mark((function e(t,n){var a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("Content-Type","application/json"),a.append("auth-token",n),s={method:"GET",headers:a,redirect:"follow"},e.abrupt("return",fetch(v+"/api/admin/students/"+t,s).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAdminUserSubjects",value:function(){var e=Object(h.a)(d.a.mark((function e(t,n){var a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("Content-Type","application/json"),a.append("auth-token",n),s={method:"GET",headers:a,redirect:"follow"},e.abrupt("return",fetch(v+"/api/admin/subjects/"+t,s).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAdminUserClassrooms",value:function(){var e=Object(h.a)(d.a.mark((function e(t,n){var a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("Content-Type","application/json"),a.append("auth-token",n),s={method:"GET",headers:a,redirect:"follow"},e.abrupt("return",fetch(v+"/api/admin/classrooms/"+t,s).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addAdminStudentSubject",value:function(){var e=Object(h.a)(d.a.mark((function e(t,n){var a,s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("Content-Type","application/json"),a.append("auth-token",n),s=JSON.stringify(t),r={method:"POST",headers:a,body:s,redirect:"follow"},e.abrupt("return",fetch(v+"/api/admin/students/subjects/add",r).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e})));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeAdminStudentSubject",value:function(){var e=Object(h.a)(d.a.mark((function e(t,n){var a,s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("Content-Type","application/json"),a.append("auth-token",n),s=JSON.stringify(t),r={method:"POST",headers:a,body:s,redirect:"follow"},e.abrupt("return",fetch(v+"/api/admin/students/subjects/remove",r).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e})));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addAdminTeacherSubject",value:function(){var e=Object(h.a)(d.a.mark((function e(t,n){var a,s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("Content-Type","application/json"),a.append("auth-token",n),s=JSON.stringify(t),r={method:"POST",headers:a,body:s,redirect:"follow"},e.abrupt("return",fetch(v+"/api/admin/teachers/subjects/add",r).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e})));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeAdminTeacherSubject",value:function(){var e=Object(h.a)(d.a.mark((function e(t,n){var a,s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("Content-Type","application/json"),a.append("auth-token",n),s=JSON.stringify(t),r={method:"POST",headers:a,body:s,redirect:"follow"},e.abrupt("return",fetch(v+"/api/admin/teachers/subjects/remove",r).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e})));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAdminTeacherSubjectsAndClassrooms",value:function(){var e=Object(h.a)(d.a.mark((function e(t,n){var a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("Content-Type","application/json"),a.append("auth-token",n),s={method:"GET",headers:a,redirect:"follow"},e.abrupt("return",fetch(v+"/api/admin/teachers/data/"+t,s).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"changeAdminStudentClassroom",value:function(){var e=Object(h.a)(d.a.mark((function e(t,n){var a,s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("Content-Type","application/json"),a.append("auth-token",n),s=JSON.stringify(t),r={method:"POST",headers:a,body:s,redirect:"follow"},e.abrupt("return",fetch(v+"/api/admin/student/classrooms/change",r).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e})));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAdminStudents",value:function(){var e=Object(h.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Headers).append("Content-Type","application/json"),n.append("auth-token",t),a={method:"GET",headers:n,redirect:"follow"},e.abrupt("return",fetch(v+"/api/admin/students",a).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAdminTeachers",value:function(){var e=Object(h.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Headers).append("Content-Type","application/json"),n.append("auth-token",t),a={method:"GET",headers:n,redirect:"follow"},e.abrupt("return",fetch(v+"/api/admin/teachers",a).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAdminClassrooms",value:function(){var e=Object(h.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Headers).append("Content-Type","application/json"),n.append("auth-token",t),a={method:"GET",headers:n,redirect:"follow"},e.abrupt("return",fetch(v+"/api/admin/classrooms",a).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAdminSubjects",value:function(){var e=Object(h.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Headers).append("Content-Type","application/json"),n.append("auth-token",t),a={method:"GET",headers:n,redirect:"follow"},e.abrupt("return",fetch(v+"/api/admin/subjects",a).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"createUser",value:function(){var e=Object(h.a)(d.a.mark((function e(t,n){var a,s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("Content-Type","application/json"),a.append("auth-token",n),s=JSON.stringify(t),r={method:"POST",headers:a,body:s,redirect:"follow"},e.abrupt("return",fetch(v+"/api/admin/users",r).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e})));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createClassroom",value:function(){var e=Object(h.a)(d.a.mark((function e(t,n){var a,s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("Content-Type","application/json"),a.append("auth-token",n),s=JSON.stringify(t),r={method:"POST",headers:a,body:s,redirect:"follow"},e.abrupt("return",fetch(v+"/api/admin/classrooms",r).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e})));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createSubject",value:function(){var e=Object(h.a)(d.a.mark((function e(t,n){var a,s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("Content-Type","application/json"),a.append("auth-token",n),s=JSON.stringify(t),r={method:"POST",headers:a,body:s,redirect:"follow"},e.abrupt("return",fetch(v+"/api/admin/subjects",r).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e})));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getGrades",value:function(){var e=Object(h.a)(d.a.mark((function e(t,n){var a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("Content-Type","application/json"),a.append("auth-token",n),s={method:"GET",headers:a,redirect:"follow"},e.abrupt("return",fetch(v+"/api/grades/"+t,s).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteUser",value:function(){var e=Object(h.a)(d.a.mark((function e(t,n){var a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("Content-Type","application/json"),a.append("auth-token",n),s={method:"POST",headers:a,redirect:"follow"},e.abrupt("return",fetch(v+"/api/admin/users/delete/"+t,s).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(r.a.Component),C=(n(33),function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={isAdmin:!1,role:""},e.getUserPermissions=e.getUserPermissions.bind(Object(m.a)(e)),e.isOpened=e.isOpened.bind(Object(m.a)(e)),e.isAdminOpened=e.isAdminOpened.bind(Object(m.a)(e)),e}return Object(j.a)(n,[{key:"getUserPermissions",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=O("token"),e.next=3,N.getUser(t);case 3:(n=e.sent).user&&this.setState({isAdmin:1===n.user.admin,role:n.user.role});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isOpened",value:function(e){return!!this.props.location.pathname.includes(e)}},{key:"isAdminOpened",value:function(){return!!this.props.location.pathname.includes("admin")}},{key:"componentDidMount",value:function(){this.getUserPermissions()}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{id:"menu",children:[Object(a.jsx)("div",{className:"border"}),Object(a.jsx)("div",{className:"logo",children:"EduLabs"}),Object(a.jsxs)("div",{className:"navigation",children:[Object(a.jsxs)(o.b,{className:"item",to:"/dashboard",onClick:function(){return window.innerWidth<1e3?S():null},children:[Object(a.jsx)("ion-icon",{name:"school-outline",style:this.isOpened("dashboard")?{color:"#5E81F4"}:null}),Object(a.jsx)("div",{className:"title",style:this.isOpened("dashboard")?{color:"#383838"}:null,children:"Dashboard"}),Object(a.jsx)("div",{style:{flex:1}}),Object(a.jsx)("div",{className:"selector",style:this.isOpened("dashboard")?{opacity:1}:{opacity:0}})]}),Object(a.jsxs)(o.b,{className:"item",to:"/subjects",onClick:function(){return window.innerWidth<1e3?S():null},children:[Object(a.jsx)("ion-icon",{name:"albums-outline",style:this.isOpened("subjects")&&!this.isAdminOpened()?{color:"#5E81F4"}:null}),Object(a.jsx)("div",{className:"title",style:this.isOpened("subjects")&&!this.isAdminOpened()?{color:"#383838"}:null,children:"Subjects"}),Object(a.jsx)("div",{style:{flex:1}}),Object(a.jsx)("div",{className:"selector",style:this.isOpened("subjects")&&!this.isAdminOpened()?{opacity:1}:{opacity:0}})]}),"student"===this.state.role?Object(a.jsxs)(o.b,{className:"item",to:"/grades",onClick:function(){return window.innerWidth<1e3?S():null},children:[Object(a.jsx)("ion-icon",{name:"list-outline",style:this.isOpened("grades")&&!this.isAdminOpened()?{color:"#5E81F4"}:null}),Object(a.jsx)("div",{className:"title",style:this.isOpened("grades")&&!this.isAdminOpened()?{color:"#383838"}:null,children:"Grades"}),Object(a.jsx)("div",{style:{flex:1}}),Object(a.jsx)("div",{className:"selector",style:this.isOpened("grades")&&!this.isAdminOpened()?{opacity:1}:{opacity:0}})]}):null,Object(a.jsx)("div",{style:{flex:1}}),this.state.isAdmin?Object(a.jsxs)(o.b,{className:"item",to:"/admin",onClick:function(){return window.innerWidth<1e3?S():null},children:[Object(a.jsx)("ion-icon",{name:"cube-outline",style:this.isOpened("admin")?{color:"#5E81F4"}:null}),Object(a.jsx)("div",{className:"title",style:this.isOpened("admin")?{color:"#383838"}:null,children:"Admin"}),Object(a.jsx)("div",{style:{flex:1}}),Object(a.jsx)("div",{className:"selector",style:this.isOpened("admin")?{opacity:1}:{opacity:0}})]}):null,Object(a.jsxs)("div",{className:"item",onClick:function(){g(),e.props.history.push("/")},children:[Object(a.jsx)("ion-icon",{name:"exit-outline"}),Object(a.jsx)("div",{className:"title",children:"Logout"}),Object(a.jsx)("div",{style:{flex:1}})]})]})]})}}]),n}(r.a.Component)),T=Object(u.f)(C);var A=Object(u.f)((function(e){return e.history.push("/"),null})),D=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return Object(a.jsx)(r.a.Fragment,{})}}]),n}(s.Component),U=Object(u.f)(D);function _(){return Object(a.jsx)("div",{className:"loading"})}n(42);var I=n.p+"static/media/subjects-icon.14ca7e49.svg";function E(e){return Object(a.jsxs)("div",{className:"dashboard-panel",children:[Object(a.jsxs)("div",{className:"info-panel",children:[Object(a.jsx)("div",{className:"title-large",children:e.title}),Object(a.jsx)("div",{className:"text-small",children:e.text})]}),Object(a.jsx)("img",{className:"image",src:I})]})}n(43);var G=Object(u.f)((function(e){var t=(new Date).toString().split(" "),n=t[0]+" "+t[2]+", "+t[1]+" "+t[3];return Object(a.jsxs)("div",{className:"top-heading",children:[e.withArrow?Object(a.jsx)("ion-icon",{name:"arrow-back-outline",onClick:function(){return e.history.goBack()}}):null,Object(a.jsx)("div",{className:"title-large",children:e.title}),Object(a.jsx)("div",{style:{flex:1}}),Object(a.jsx)("div",{className:"date",children:n})]})})),H=(n(44),function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={loading:!1,log:!1,message:"",firstname:"",lastname:"",email:"",password:"",role:"student",admin:0,subjectName:"",gradeValue:"",gradeDescription:""},e.createUser=e.createUser.bind(Object(m.a)(e)),e.createClassroom=e.createClassroom.bind(Object(m.a)(e)),e.createSubject=e.createSubject.bind(Object(m.a)(e)),e.createGrade=e.createGrade.bind(Object(m.a)(e)),e}return Object(j.a)(n,[{key:"createUser",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),t=O("token"),""!==this.state.firstname.trim()&&""!==this.state.lastname.trim()&&""!==this.state.email.trim()&&""!==this.state.password.trim()&&""!==this.state.admin.trim()){e.next=5;break}return this.setState({loading:!1}),e.abrupt("return");case 5:return n={firstname:this.state.firstname,lastname:this.state.lastname,email:this.state.email,password:this.state.password,role:this.props.role,admin:this.state.admin},"student"===this.props.role&&(n.classroom=this.props.classroom),e.next=9,N.createUser(n,t);case 9:"User registered successfully"===(a=e.sent).message?this.props.finish():this.setState({loading:!1,log:!0,message:a.message});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createClassroom",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),t=O("token"),""!==this.state.classroomName.trim()){e.next=5;break}return this.setState({loading:!1}),e.abrupt("return");case 5:return e.next=7,N.createClassroom({name:this.state.classroomName},t);case 7:"Classroom created successfully"===(n=e.sent).message?this.props.finish():this.setState({loading:!1,log:!0,message:n.message});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createSubject",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),t=O("token"),""!==this.state.subjectName.trim()){e.next=5;break}return this.setState({loading:!1}),e.abrupt("return");case 5:return e.next=7,N.createSubject({name:this.state.subjectName},t);case 7:"Subject created successfully"===(n=e.sent).message?this.props.finish():this.setState({loading:!1,log:!0,message:n.message});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createGrade",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),t=O("token"),""!==this.state.gradeValue.trim()&&""!==this.state.gradeDescription.trim()){e.next=5;break}return this.setState({loading:!1}),e.abrupt("return");case 5:return e.next=7,N.createGrade({value:this.state.gradeValue,description:this.state.gradeDescription,userId:this.props.userId,subjectId:this.props.subjectId},t);case 7:"Grade created successfully"===(n=e.sent).message?this.props.finish():this.setState({loading:!1,log:!0,message:n.message});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.type;return this.state.loading?Object(a.jsx)("div",{className:"edit-screen",children:Object(a.jsx)("div",{className:"edit",style:{width:"auto"},children:Object(a.jsx)(_,{})})}):this.state.log?Object(a.jsx)("div",{className:"edit-screen",children:Object(a.jsxs)("div",{className:"edit",children:[Object(a.jsx)("div",{className:"title",children:this.state.message}),Object(a.jsx)("div",{className:"button",onClick:function(){return e.props.close()},children:"Close"})]})}):"add-user"===t?Object(a.jsx)("div",{className:"edit-screen animate__animated animate__fadeIn",id:"add-user",children:Object(a.jsxs)("div",{className:"edit animate__animated animate__backInDown",children:[Object(a.jsxs)("div",{className:"title",children:["Add ",this.props.role,Object(a.jsx)("ion-icon",{name:"close",onClick:function(){return e.props.close()}})]}),Object(a.jsx)("input",{className:"input",type:"text",value:this.state.firstname,onChange:function(t){return e.setState({firstname:t.target.value})},placeholder:"First name"}),Object(a.jsx)("input",{className:"input",type:"text",value:this.state.lastname,onChange:function(t){return e.setState({lastname:t.target.value})},placeholder:"Last name"}),Object(a.jsx)("input",{className:"input",type:"text",value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})},placeholder:"E-mail"}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{className:"input",type:"password",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})},placeholder:"Password"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:"choice",children:[Object(a.jsx)("div",{className:"item",onClick:function(){return e.setState({admin:1})},style:1===this.state.admin?{backgroundColor:"#5E81F4",color:"white"}:null,children:"Admin"}),Object(a.jsx)("div",{className:"item",onClick:function(){return e.setState({admin:0})},style:0===this.state.admin?{backgroundColor:"#5E81F4",color:"white"}:null,children:"Regular"})]}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:"button",onClick:function(){return e.createUser()},children:"Create"})]})}):"add-classroom"===t?Object(a.jsx)("div",{className:"edit-screen animate__animated animate__fadeIn",id:"add-classroom",children:Object(a.jsxs)("div",{className:"edit animate__animated animate__backInDown",children:[Object(a.jsxs)("div",{className:"title",children:["Create classroom",Object(a.jsx)("ion-icon",{name:"close",onClick:function(){return e.props.close()}})]}),Object(a.jsx)("input",{className:"input",type:"text",value:this.state.classroomName,onChange:function(t){return e.setState({classroomName:t.target.value})},placeholder:"Classroom name"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:"button",onClick:function(){return e.createClassroom()},children:"Create"})]})}):"add-subject"===t?Object(a.jsx)("div",{className:"edit-screen animate__animated animate__fadeIn",id:"add-subject",children:Object(a.jsxs)("div",{className:"edit animate__animated animate__backInDown",children:[Object(a.jsxs)("div",{className:"title",children:["Create subject",Object(a.jsx)("ion-icon",{name:"close",onClick:function(){return e.props.close()}})]}),Object(a.jsx)("input",{className:"input",type:"text",value:this.state.subjectName,onChange:function(t){return e.setState({subjectName:t.target.value})},placeholder:"Subject name"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:"button",onClick:function(){return e.createSubject()},children:"Create"})]})}):"add-grade"===t?Object(a.jsx)("div",{className:"edit-screen animate__animated animate__fadeIn",id:"add-grade",children:Object(a.jsxs)("div",{className:"edit animate__animated animate__backInDown",children:[Object(a.jsxs)("div",{className:"title",children:["Create grade",Object(a.jsx)("ion-icon",{name:"close",onClick:function(){return e.props.close()}})]}),Object(a.jsx)("input",{className:"input",type:"text",value:this.state.gradeValue,onChange:function(t){return e.setState({gradeValue:t.target.value})},placeholder:"Grade value in percentage"}),Object(a.jsx)("input",{className:"input",type:"text",value:this.state.gradeDescription,onChange:function(t){return e.setState({gradeDescription:t.target.value})},placeholder:"Grade description"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:"button",onClick:function(){return e.createGrade()},children:"Create"})]})}):void 0}}]),n}(r.a.Component)),L=(n(45),n.p+"static/media/login-icon.2789a2c7.svg");function P(e){var t=e.item,n=e.icon,r=e.delay,c=Object(s.useState)(!1),i=Object(y.a)(c,2),o=i[0],u=i[1];return setTimeout((function(){u(!0)}),r||0),o?Object(a.jsxs)("div",{className:"box "+(!0===e.withAnimation?"animate__animated animate__zoomIn":""),onClick:e.onClick,children:[!0===e.withRemove?Object(a.jsx)("ion-icon",{name:"close-outline",onClick:e.onRemoveClick}):null,Object(a.jsx)("img",{className:"image",src:n||L}),Object(a.jsx)("div",{className:"name",children:t.name})]}):null}n(15);var M=n.p+"static/media/classroom-icon.39a5b2ea.svg",F=n.p+"static/media/students-icon.3eecbeac.svg",B=(n.p,n.p+"static/media/class-icon.a3e9b4d2.svg"),J=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={edit:!1,type:"add-classroom"},e}return Object(j.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"screen",id:"admin",children:[Object(a.jsx)(G,{title:"Admin"}),Object(a.jsx)(E,{title:"Administrate your school",text:"Welcome to the administration of your school. Create classrooms and subjects, manage your students and teachers and build a strong foundation for your school.",image:L}),this.state.edit?Object(a.jsx)(H,{type:this.state.type,close:function(){return e.setState({edit:!1})}}):null,Object(a.jsxs)("div",{className:"body-panel",children:[Object(a.jsx)(P,{withAnimation:!0,item:{name:"Students"},icon:F,onClick:function(){return e.props.history.push("/admin/students")}}),Object(a.jsx)(P,{withAnimation:!0,item:{name:"Teachers"},icon:M,onClick:function(){return e.props.history.push("/admin/teachers")}}),Object(a.jsx)(P,{withAnimation:!0,item:{name:"Classrooms"},icon:B,onClick:function(){return e.props.history.push("/admin/classrooms")}}),Object(a.jsx)(P,{withAnimation:!0,item:{name:"Subjects"},icon:L,onClick:function(){return e.props.history.push("/admin/subjects")}})]})]})}}]),n}(r.a.Component),R=Object(u.f)(J),W=n.p+"static/media/add-icon.05f97dea.svg",V=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={edit:!1,type:"add-classroom",classrooms:[],loading:!0},e.loadData=e.loadData.bind(Object(m.a)(e)),e}return Object(j.a)(n,[{key:"loadData",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=O("token"),e.next=4,N.getAdminClassrooms(t);case 4:(n=e.sent).classrooms&&((a=n.classrooms).sort((function(e,t){return e.name.localeCompare(t.name)})),this.setState({classrooms:a,loading:!1}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"screen",id:"admin",children:[Object(a.jsx)(G,{title:"Classrooms",withArrow:!0}),Object(a.jsx)(E,{title:"Administrate your classrooms",text:"All your classrooms in one place. Create new classrooms, allocate your students into them and build a solid foundation for your school.",image:L}),this.state.edit?Object(a.jsx)(H,{type:this.state.type,close:function(){return e.setState({edit:!1})},finish:function(){return e.setState({edit:!1},(function(){return e.loadData()}))}}):null,this.state.loading?Object(a.jsx)("div",{className:"fill-space",children:Object(a.jsx)(_,{})}):Object(a.jsxs)("div",{className:"body-panel",children:[Object(a.jsx)(P,{item:{name:"Add classroom"},icon:W,onClick:function(){return e.setState({edit:!0})}}),this.state.classrooms.map((function(t,n){return Object(a.jsx)(P,{withAnimation:!0,item:t,onClick:function(){return e.props.history.push({pathname:"/admin/classrooms/"+t.id})},icon:B})}))]})]})}}]),n}(r.a.Component),Y=Object(u.f)(V);n(46);function z(e){var t=e.loading,n=e.title,s=e.onClick,r=e.close;return Object(a.jsx)("div",{className:"option",children:t?Object(a.jsx)("div",{className:"panel",children:Object(a.jsx)(_,{})}):Object(a.jsxs)("div",{className:"panel",children:[Object(a.jsx)("div",{className:"title",children:n}),Object(a.jsxs)("div",{className:"button-panel",children:[Object(a.jsx)("div",{className:"button",onClick:s,children:"Yes"}),Object(a.jsx)("div",{style:{width:20}}),Object(a.jsx)("div",{className:"button",onClick:r,children:"Cancel"})]})]})})}var Z=n.p+"static/media/profile-icon.a8d98262.svg",q=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={edit:!1,type:"add-user",classroom:{},students:[],deletedUser:"",option:!1,optionLoading:!1,loading:!0},e.loadData=e.loadData.bind(Object(m.a)(e)),e.showOption=e.showOption.bind(Object(m.a)(e)),e.deleteUser=e.deleteUser.bind(Object(m.a)(e)),e}return Object(j.a)(n,[{key:"loadData",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,a,s,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=O("token"),n=this.props.match.params.id,e.next=5,N.getClassroom(n,t);case 5:return a=e.sent,e.next=8,N.getAdminClassroomStudents(n,t);case 8:s=e.sent,console.log(s),console.log(a),console.log(s),a.classroom&&s.students&&(r=s.students,c=a.classroom,r.sort((function(e,t){return e.lastname.localeCompare(t.lastname)})),this.setState({classroom:c,students:r,loading:!1}));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showOption",value:function(e,t){e.stopPropagation(),this.setState({deletedUser:t,option:!0})}},{key:"deleteUser",value:function(){var e=Object(h.a)(d.a.mark((function e(t){var n,a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({optionLoading:!0}),n=O("token"),e.next=4,N.deleteUser(t,n);case 4:"User deleted successfully"===e.sent.message&&this.setState({option:!1},(function(){return a.loadData()}));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"screen",id:"admin-classroom",children:[Object(a.jsx)(G,{title:this.state.classroom.name?this.state.classroom.name:"Loading",withArrow:!0}),Object(a.jsx)(E,{title:"Administrate your classroom",text:"Your classroom structure in one place. Assign students to this classroom, change the structure of it and update it as your school grows.",image:L}),this.state.edit?Object(a.jsx)(H,{type:this.state.type,classroom:this.state.classroom.id,role:"student",close:function(){return e.setState({edit:!1})},finish:function(){return e.setState({edit:!1},(function(){return e.loadData()}))}}):null,this.state.loading?Object(a.jsx)("div",{className:"fill-space",children:Object(a.jsx)(_,{})}):Object(a.jsxs)("div",{className:"body-panel",children:[Object(a.jsx)(P,{item:{name:"Add student"},icon:W,onClick:function(){return e.setState({edit:!0})}}),this.state.students.map((function(t,n){return Object(a.jsx)(P,{withAnimation:!0,withRemove:!0,onRemoveClick:function(n){return e.showOption(n,t.id)},item:{name:t.firstname+" "+t.lastname},onClick:function(){return e.props.history.push("/admin/users/"+t.id)},icon:Z})}))]}),this.state.option?Object(a.jsx)(z,{title:"Delete student?",loading:this.state.optionLoading,onClick:function(){return e.deleteUser(e.state.deletedUser)},close:function(){return e.setState({option:!1})}}):null]})}}]),n}(r.a.Component),K=Object(u.f)(q);n(47);function Q(e){var t=e.loading,n=e.title,s=e.close;return Object(a.jsx)("div",{className:"popup",children:t?Object(a.jsx)("div",{className:"panel",children:Object(a.jsx)(_,{})}):Object(a.jsxs)("div",{className:"panel",children:[Object(a.jsx)("div",{className:"title",children:n}),Object(a.jsx)("div",{className:"button",onClick:s,children:"Zavrie\u0165"})]})})}var X=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={user:{},firstname:"",lastname:"",email:"",role:"",admin:0,selectedStudentClassroom:"",selectedStudentSubjects:[],selectedTeacherSubjects:[],classrooms:[],subjects:[],teacherData:[],popup:!1,message:"Please fill in all blank spaces",popupLoading:!1,loading:!0},e.loadUserData=e.loadUserData.bind(Object(m.a)(e)),e.loadStudentSubjects=e.loadStudentSubjects.bind(Object(m.a)(e)),e.loadStudentClassrooms=e.loadStudentClassrooms.bind(Object(m.a)(e)),e.addStudentSubject=e.addStudentSubject.bind(Object(m.a)(e)),e.removeStudentSubject=e.removeStudentSubject.bind(Object(m.a)(e)),e.changeStudentClassroom=e.changeStudentClassroom.bind(Object(m.a)(e)),e.addTeacherSubject=e.addTeacherSubject.bind(Object(m.a)(e)),e.removeTeacherSubject=e.removeTeacherSubject.bind(Object(m.a)(e)),e.loadTeacherSubjectsAndClassrooms=e.loadTeacherSubjectsAndClassrooms.bind(Object(m.a)(e)),e.isTeached=e.isTeached.bind(Object(m.a)(e)),e}return Object(j.a)(n,[{key:"addStudentSubject",value:function(){var e=Object(h.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=O("token"),a=this.props.match.params.id,e.next=4,N.addAdminStudentSubject({userId:a,subjectId:t,classroomId:this.state.selectedStudentClassroom},n);case 4:"Subject added successfully"===e.sent.message&&this.loadStudentSubjects();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeStudentSubject",value:function(){var e=Object(h.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=O("token"),a=this.props.match.params.id,e.next=4,N.removeAdminStudentSubject({userId:a,subjectId:t,classroomId:this.state.selectedStudentClassroom},n);case 4:"Subject removed successfully"===e.sent.message&&this.loadStudentSubjects();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeStudentClassroom",value:function(){var e=Object(h.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=O("token"),a=this.props.match.params.id,e.next=4,N.changeAdminStudentClassroom({userId:a,classroomId:t},n);case 4:"Classroom changed successfully"===e.sent.message&&this.loadUserData();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadUserData",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=O("token"),n=this.props.match.params.id,e.next=4,N.getAdminUser(n,t);case 4:(a=e.sent).user&&(this.setState({firstname:a.user.firstname,lastname:a.user.lastname,email:a.user.email,role:a.user.role,admin:a.user.admin}),"student"===a.user.role&&this.setState({selectedStudentClassroom:a.user.classroom,loading:!1}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadStudentSubjects",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,a,s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=O("token"),n=this.props.match.params.id,e.next=4,N.getAdminSubjects(t);case 4:return a=e.sent,e.next=7,N.getAdminUserSubjects(n,t);case 7:s=e.sent,a.subjects&&s.subjects&&((r=a.subjects).sort((function(e,t){return e.name.localeCompare(t.name)})),this.setState({subjects:r,selectedStudentSubjects:s.subjects}));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadStudentClassrooms",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=O("token"),e.next=3,N.getAdminClassrooms(t);case 3:(n=e.sent).classrooms&&((a=n.classrooms).sort((function(e,t){return e.name.localeCompare(t.name)})),this.setState({classrooms:a}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addTeacherSubject",value:function(){var e=Object(h.a)(d.a.mark((function e(t,n){var a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=O("token"),s=this.props.match.params.id,e.next=4,N.addAdminTeacherSubject({userId:s,subjectId:t,classroomId:n},a);case 4:"Subject added successfully"===e.sent.message&&this.loadTeacherSubjectsAndClassrooms();case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeTeacherSubject",value:function(){var e=Object(h.a)(d.a.mark((function e(t,n){var a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=O("token"),s=this.props.match.params.id,e.next=4,N.removeAdminTeacherSubject({userId:s,subjectId:t,classroomId:n},a);case 4:"Subject removed successfully"===e.sent.message&&this.loadTeacherSubjectsAndClassrooms();case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"isTeached",value:function(e,t){for(var n=0;n<this.state.teacherData.length;n++){var a=this.state.teacherData[n];if(a.classroom_id===e&&a.subject_id===t)return!0}return!1}},{key:"loadTeacherSubjectsAndClassrooms",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,a,s,r,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=O("token"),n=this.props.match.params.id,e.next=4,N.getAdminSubjects(t);case 4:return a=e.sent,e.next=7,N.getAdminClassrooms(t);case 7:return s=e.sent,e.next=10,N.getAdminTeacherSubjectsAndClassrooms(n,t);case 10:r=e.sent,console.log(r.data),console.log(s.classrooms),console.log(a.subjects),r.data&&a.subjects&&s.classrooms&&(c=s.classrooms,i=a.subjects,c.sort((function(e,t){return e.name.localeCompare(t.name)})),i.sort((function(e,t){return e.name.localeCompare(t.name)})),this.setState({subjects:i,classrooms:c,teacherData:r.data}));case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.loadUserData();case 3:if(this.setState({loading:!0}),"student"!==this.state.role){e.next=11;break}return e.next=7,this.loadStudentClassrooms();case 7:return e.next=9,this.loadStudentSubjects();case 9:e.next=14;break;case 11:if("teacher"!==this.state.role){e.next=14;break}return e.next=14,this.loadTeacherSubjectsAndClassrooms();case 14:this.setState({loading:!1});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateUser",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,a,s,r,c,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({popup:!0,popupLoading:!0}),t=O("token"),n=this.props.match.params.id,a=this.state,s=a.firstname,r=a.lastname,c=a.email,i=a.admin,""!==s.trim()&&""!==r.trim()&&""!==c.trim()){e.next=7;break}return this.setState({popupLoading:!1,message:"Please fill in all blank spaces"}),e.abrupt("return");case 7:return e.next=9,N.updateUserData(n,{firstname:s,lastname:r,email:c,admin:i},t);case 9:o=e.sent,console.log(o),"User data updated successfully"===o.message&&this.setState({popupLoading:!1,message:"User updated successfully"});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.loading?Object(a.jsxs)("div",{className:"screen",id:"admin-user",children:[Object(a.jsx)(G,{title:"User"}),Object(a.jsx)("div",{className:"fill-space",children:Object(a.jsx)(_,{})})]}):Object(a.jsxs)("div",{className:"screen",id:"admin-user",children:[Object(a.jsx)(G,{title:"User",withArrow:!0}),Object(a.jsxs)("div",{className:"body-panel",children:[Object(a.jsxs)("div",{className:"panel top-panel",children:[Object(a.jsx)("img",{className:"profile-image",src:Z}),Object(a.jsxs)("div",{className:"info-panel",children:[Object(a.jsx)("div",{className:"name",children:this.state.firstname+" "+this.state.lastname}),Object(a.jsx)("div",{className:"role",children:"student"===this.state.role?"Student":"Teacher"})]})]}),Object(a.jsxs)("div",{className:"bottom-panel",children:[Object(a.jsxs)("div",{className:"panel left-panel animate__animated animate__fadeInUp",children:[Object(a.jsx)("div",{className:"title-small",children:"Personal info"}),Object(a.jsx)("div",{style:{height:15}}),Object(a.jsx)("input",{className:"input",type:"text",placeholder:"First name",value:this.state.firstname,onChange:function(t){return e.setState({firstname:t.target.value})}}),Object(a.jsx)("input",{className:"input",type:"text",placeholder:"Last name",value:this.state.lastname,onChange:function(t){return e.setState({lastname:t.target.value})}}),Object(a.jsx)("input",{className:"input",type:"text",placeholder:"E-mail",value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})}}),Object(a.jsx)("div",{style:{height:20}}),Object(a.jsx)("div",{className:"title-small",children:"Privileges"}),Object(a.jsx)("div",{style:{height:20}}),Object(a.jsxs)("div",{className:"button-panel",children:[Object(a.jsx)("div",{className:"button"+(1===this.state.admin?"":"-disabled"),onClick:function(){return e.setState({admin:1})},children:"Admin"}),Object(a.jsx)("div",{style:{width:10}}),Object(a.jsx)("div",{className:"button"+(0===this.state.admin?"":"-disabled"),onClick:function(){return e.setState({admin:0})},children:"Regular"})]}),Object(a.jsx)("div",{style:{flex:1}}),Object(a.jsx)("div",{className:"button",onClick:function(){return e.updateUser()},style:{marginTop:30},children:"Save changes"})]}),"student"===this.state.role?Object(a.jsxs)("div",{className:"right-panel animate__animated animate__fadeInUp animate__delay-1s",id:"student-panel",children:[Object(a.jsxs)("div",{className:"panel classroom-panel",children:[Object(a.jsx)("div",{className:"title-small",children:"Classroom"}),Object(a.jsx)("div",{className:"list",children:this.state.classrooms.map((function(t){return Object(a.jsx)("div",{className:"item",onClick:function(){return e.changeStudentClassroom(t.id)},style:t.id===e.state.selectedStudentClassroom?{backgroundColor:"#5E81F4",color:"white"}:null,children:t.name})}))})]}),Object(a.jsxs)("div",{className:"panel subject-panel",children:[Object(a.jsx)("div",{className:"title-small",children:"Subjects"}),Object(a.jsx)("div",{className:"list",children:this.state.subjects.map((function(t){return Object(a.jsx)("div",{className:"item",onClick:function(){return e.state.selectedStudentSubjects.includes(t.id)?e.removeStudentSubject(t.id):e.addStudentSubject(t.id)},style:e.state.selectedStudentSubjects.includes(t.id)?{backgroundColor:"#5E81F4",color:"white"}:null,children:t.name})}))})]})]}):Object(a.jsx)("div",{className:"right-panel animate__animated animate__fadeInUp animate__delay-1s",id:"teacher-panel",children:Object(a.jsxs)("div",{className:"panel classroom-panel",children:[Object(a.jsx)("div",{className:"title-small",children:"Classrooms"}),Object(a.jsx)("div",{className:"classrooms",children:this.state.classrooms.map((function(t){return Object(a.jsxs)("div",{className:"classroom",children:[Object(a.jsx)("div",{className:"info",children:t.name}),Object(a.jsx)("div",{className:"list",children:e.state.subjects.map((function(n){return Object(a.jsx)("div",{className:"item",onClick:function(){return e.isTeached(t.id,n.id)?e.removeTeacherSubject(n.id,t.id):e.addTeacherSubject(n.id,t.id)},style:e.isTeached(t.id,n.id)?{backgroundColor:"#5E81F4",color:"white"}:null,children:n.name})}))})]})}))})]})})]})]}),this.state.popup?Object(a.jsx)(Q,{loading:this.state.popupLoading,title:this.state.message,close:function(){return e.setState({popup:!1},(function(){return e.loadUserData()}))}}):null]})}}]),n}(r.a.Component),$=Object(u.f)(X),ee=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={students:[],deletedUser:"",option:!1,optionLoading:!1,loading:!0},e.loadData=e.loadData.bind(Object(m.a)(e)),e.showOption=e.showOption.bind(Object(m.a)(e)),e.deleteUser=e.deleteUser.bind(Object(m.a)(e)),e}return Object(j.a)(n,[{key:"loadData",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=O("token"),e.next=4,N.getAdminStudents(t);case 4:(n=e.sent).students&&((a=n.students).sort((function(e,t){return e.lastname.localeCompare(t.lastname)})),this.setState({students:a,loading:!1}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showOption",value:function(e,t){e.stopPropagation(),this.setState({deletedUser:t,option:!0})}},{key:"deleteUser",value:function(){var e=Object(h.a)(d.a.mark((function e(t){var n,a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({optionLoading:!0}),n=O("token"),e.next=4,N.deleteUser(t,n);case 4:"User deleted successfully"===e.sent.message&&this.setState({option:!1},(function(){return a.loadData()}));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"screen",id:"admin",children:[Object(a.jsx)(G,{title:"Students",withArrow:!0}),Object(a.jsx)(E,{title:"Administrate your students",text:"All your students in one place. Manage your students, allocate them into classrooms, set their subjects and update their data as your school grows.",image:L}),this.state.loading?Object(a.jsx)("div",{className:"fill-space",children:Object(a.jsx)(_,{})}):Object(a.jsx)("div",{className:"body-panel",children:this.state.students.map((function(t,n){return Object(a.jsx)(P,{withAnimation:!0,withRemove:!0,onRemoveClick:function(n){return e.showOption(n,t.id)},item:{name:t.firstname+" "+t.lastname},onClick:function(){return e.props.history.push("/admin/users/"+t.id)},icon:Z})}))}),this.state.option?Object(a.jsx)(z,{title:"Delete student?",loading:this.state.optionLoading,onClick:function(){return e.deleteUser(e.state.deletedUser)},close:function(){return e.setState({option:!1})}}):null]})}}]),n}(r.a.Component),te=Object(u.f)(ee),ne=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={edit:!1,type:"add-user",teachers:[],deletedUser:"",option:!1,optionLoading:!1,loading:!0},e.loadData=e.loadData.bind(Object(m.a)(e)),e.showOption=e.showOption.bind(Object(m.a)(e)),e.deleteUser=e.deleteUser.bind(Object(m.a)(e)),e}return Object(j.a)(n,[{key:"loadData",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=O("token"),e.next=4,N.getAdminTeachers(t);case 4:(n=e.sent).teachers&&((a=n.teachers).sort((function(e,t){return e.lastname.localeCompare(t.lastname)})),this.setState({teachers:a,loading:!1}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showOption",value:function(e,t){e.stopPropagation(),this.setState({deletedUser:t,option:!0})}},{key:"deleteUser",value:function(){var e=Object(h.a)(d.a.mark((function e(t){var n,a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({optionLoading:!0}),n=O("token"),e.next=4,N.deleteUser(t,n);case 4:"User deleted successfully"===e.sent.message&&this.setState({option:!1},(function(){return a.loadData()}));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"screen",id:"admin",children:[Object(a.jsx)(G,{title:"Teachers",withArrow:!0}),Object(a.jsx)(E,{title:"Administrate your teachers",text:"All your teachers in one place. Manage your teachers, allocate the subjects they teach to individual classrooms and update their data as your school grows.",image:L}),this.state.edit?Object(a.jsx)(H,{type:this.state.type,role:"teacher",close:function(){return e.setState({edit:!1})},finish:function(){return e.setState({edit:!1},(function(){return e.loadData()}))}}):null,this.state.loading?Object(a.jsx)("div",{className:"fill-space",children:Object(a.jsx)(_,{})}):Object(a.jsxs)("div",{className:"body-panel",children:[Object(a.jsx)(P,{item:{name:"Add teacher"},icon:W,onClick:function(){return e.setState({edit:!0})}}),this.state.teachers.map((function(t,n){return Object(a.jsx)(P,{withAnimation:!0,withRemove:!0,onRemoveClick:function(n){return e.showOption(n,t.id)},item:{name:t.firstname+" "+t.lastname},onClick:function(){return e.props.history.push("/admin/users/"+t.id)},icon:Z})}))]}),this.state.option?Object(a.jsx)(z,{title:"Delete teacher?",loading:this.state.optionLoading,onClick:function(){return e.deleteUser(e.state.deletedUser)},close:function(){return e.setState({option:!1})}}):null]})}}]),n}(r.a.Component),ae=Object(u.f)(ne),se=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={edit:!1,type:"add-subject",subjects:[],loading:!0},e.loadData=e.loadData.bind(Object(m.a)(e)),e}return Object(j.a)(n,[{key:"loadData",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=O("token"),e.next=4,N.getAdminSubjects(t);case 4:(n=e.sent).subjects&&((a=n.subjects).sort((function(e,t){return e.name.localeCompare(t.name)})),this.setState({subjects:a,loading:!1}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"screen",id:"admin",children:[Object(a.jsx)(G,{title:"Subjects",withArrow:!0}),Object(a.jsx)(E,{title:"Administrate your subjects",text:"All your subjects in one place. Create new subjects, manage them and update them as your school grows.",image:L}),this.state.edit?Object(a.jsx)(H,{type:this.state.type,close:function(){return e.setState({edit:!1})},finish:function(){return e.setState({edit:!1},(function(){return e.loadData()}))}}):null,this.state.loading?Object(a.jsx)("div",{className:"fill-space",children:Object(a.jsx)(_,{})}):Object(a.jsxs)("div",{className:"body-panel",children:[Object(a.jsx)(P,{item:{name:"Add subject"},icon:W,onClick:function(){return e.setState({edit:!0})}}),this.state.subjects.map((function(e,t){return Object(a.jsx)(P,{withAnimation:!0,item:e,onClick:function(){},icon:L})}))]})]})}}]),n}(r.a.Component),re=Object(u.f)(se),ce=(n(48),function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={email:"",password:"",popup:!1,loading:!1,title:"Nespr\xe1vne heslo"},e.login=e.login.bind(Object(m.a)(e)),e}return Object(j.a)(n,[{key:"login",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({popup:!0,loading:!0}),t=this.state,n=t.email,a=t.password,e.next=4,N.login({email:n,password:a});case 4:(s=e.sent).token?(this.setState({popup:!1}),r="token",c=s.token,localStorage.setItem(r,JSON.stringify(c)),this.props.history.push("/dashboard")):this.setState({loading:!1,title:s.message});case 6:case"end":return e.stop()}var r,c}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){O("token")&&this.props.history.push("/dashboard")}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"screen",id:"login",children:[Object(a.jsx)("div",{className:"icon-panel",children:Object(a.jsx)("img",{className:"icon",src:L})}),Object(a.jsxs)("div",{className:"login-panel",children:[Object(a.jsx)("div",{className:"title",children:"Login to EduLabs"}),Object(a.jsx)("div",{className:"text",children:"EduLabs is a platform students as well as teachers love for its simplicity yet powerful features."}),Object(a.jsx)("input",{className:"input",type:"text",value:this.state.email,placeholder:"E-mail",onChange:function(t){return e.setState({email:t.target.value})}}),Object(a.jsx)("input",{className:"input",type:"password",value:this.state.password,placeholder:"Password",onChange:function(t){return e.setState({password:t.target.value})}}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:"button",onClick:function(){return e.login()},children:"Login"})]}),this.state.popup?Object(a.jsx)(Q,{loading:this.state.loading,title:this.state.title,close:function(){return e.setState({popup:!1})}}):null]})}}]),n}(r.a.Component)),ie=Object(u.f)(ce),oe=(n(49),n.p,function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={user:{}},e.getUser=e.getUser.bind(Object(m.a)(e)),e}return Object(j.a)(n,[{key:"getUser",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=O("token"),e.next=3,N.getUser(t);case 3:n=e.sent,console.log(n),n.user&&(this.setState({user:n.user}),console.log(n));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){x()?this.getUser():this.props.history.push("/")}},{key:"render",value:function(){var e=(new Date).toString().split(" "),t=(e[0],e[2],e[1],e[3],this.state.user);return Object(a.jsxs)("div",{className:"screen",id:"dashboard",children:[Object(a.jsx)(G,{title:"Dashboard"}),Object(a.jsx)(E,{title:"Welcome back, "+t.firstname,text:"Welcome back to EduLabs. A place where education prospers, a place where teachers help their students get the best out of their skills and help them grow.",image:I}),Object(a.jsxs)("div",{className:"body-panel",children:[Object(a.jsx)("div",{className:"average panel animate__animated animate__fadeInUp",children:Object(a.jsx)("div",{className:"title-small",children:"Results"})}),Object(a.jsx)("div",{className:"homework panel animate__animated animate__fadeInUp animate__delay-1s",children:Object(a.jsx)("div",{className:"title-small",children:"Homework"})})]})]})}}]),n}(r.a.Component)),ue=Object(u.f)(oe),le=(n(50),function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={subject:{},classrooms:[],loading:!0},e.loadData=e.loadData.bind(Object(m.a)(e)),e.loadSubject=e.loadSubject.bind(Object(m.a)(e)),e}return Object(j.a)(n,[{key:"loadData",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,a,s,r,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=O("token"),n=this.props.match.params.id,e.next=5,N.getTeacherClassroomsBySubject(n,t);case 5:if(!(a=e.sent).classrooms){e.next=20;break}s=[],r=0;case 9:if(!(r<a.classrooms.length)){e.next=18;break}return c=a.classrooms[r],e.next=13,N.getClassroom(c,t);case 13:i=e.sent,s.push(i.classroom);case 15:r++,e.next=9;break;case 18:console.log(s),this.setState({classrooms:s,loading:!1});case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadSubject",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=O("token"),n=this.props.match.params.id,e.next=4,N.getSubject(n,t);case 4:(a=e.sent).subject&&this.setState({subject:a.subject});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.loadSubject(),this.loadData()}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"screen",id:"classrooms",children:[Object(a.jsx)(G,{title:this.state.subject.name}),Object(a.jsx)(E,{title:"Manage your classrooms",text:"All the classrooms you teach in one place. Dive into your classrooms and manage your students and their results.",image:L}),this.state.loading?Object(a.jsx)("div",{className:"fill-space",children:Object(a.jsx)(_,{})}):Object(a.jsx)("div",{className:"body-panel",children:this.state.classrooms.map((function(t){return Object(a.jsx)(P,{withAnimation:!0,item:t,onClick:function(){return e.props.history.push("/subjects/"+e.state.subject.id+"/classrooms/"+t.id)},icon:B})}))})]})}}]),n}(r.a.Component)),de=Object(u.f)(le),he=n(18),pe=(n(51),function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={edit:!1,type:"add-grade",classroom:{},subject:{},students:[],currentUser:"",loading:!0},e.loadData=e.loadData.bind(Object(m.a)(e)),e.loadClassroom=e.loadClassroom.bind(Object(m.a)(e)),e.loadSubject=e.loadSubject.bind(Object(m.a)(e)),e.loadStudents=e.loadStudents.bind(Object(m.a)(e)),e}return Object(j.a)(n,[{key:"loadData",value:function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loadClassroom(),this.loadSubject(),this.loadStudents();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadStudents",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,a,s,r,c,i,o,u,l,h,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=O("token"),n=this.props.match.params.classroomId,a=this.props.match.params.id,e.next=6,N.getTeacherClassroomStudentsBySubject(n,a,t);case 6:if(!(s=e.sent).students){e.next=27;break}r=[],c=0;case 10:if(!(c<s.students.length)){e.next=26;break}return i=function(e,t){return e+t.value},o=s.students[c].user_id,e.next=15,N.getTeacherUser(o,t);case 15:return u=e.sent,e.next=18,N.getGradesByUserAndSubject(u.user.id,a,t);case 18:l=e.sent,h=l.grades.reduce(i,0)/l.grades.length,"student"===u.user.role&&r.push(Object(he.a)(Object(he.a)({},u.user),{},{grades:l.grades,average:h})),(p=r).sort((function(e,t){return e.lastname.localeCompare(t.lastname)}));case 23:c++,e.next=10;break;case 26:this.setState({students:p,loading:!1});case 27:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadClassroom",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=O("token"),n=this.props.match.params.classroomId,e.next=4,N.getClassroom(n,t);case 4:(a=e.sent).classroom&&(console.log(a.classroom),this.setState({classroom:a.classroom}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadSubject",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=O("token"),n=this.props.match.params.id,e.next=4,N.getSubject(n,t);case 4:(a=e.sent).subject&&(console.log(a.subject),this.setState({subject:a.subject}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"screen",id:"classroom",children:[Object(a.jsx)(G,{title:this.state.subject.name+" - "+this.state.classroom.name}),Object(a.jsx)(E,{title:"Manage your classroom",text:"Manage your classroom in one place. Evaluate your student's results and help them get the best out of their skills.",image:L}),this.state.edit?Object(a.jsx)(H,{type:this.state.type,userId:this.state.currentUser,subjectId:this.props.match.params.id,close:function(){return e.setState({edit:!1})},finish:function(){return e.setState({edit:!1},(function(){return e.loadData()}))}}):null,this.state.loading?Object(a.jsx)("div",{className:"fill-space",children:Object(a.jsx)(_,{})}):Object(a.jsx)("div",{className:"body-panel",children:this.state.students.map((function(t){return Object(a.jsxs)("div",{className:"student",children:[Object(a.jsxs)("div",{className:"info-panel",children:[Object(a.jsx)("img",{className:"image",src:Z}),Object(a.jsx)("div",{className:"name",children:t.firstname+" "+t.lastname})]}),Object(a.jsx)("div",{className:"grades",children:t.grades.length>0?t.grades.map((function(e){return Object(a.jsx)("div",{className:"grade",children:e.value.toFixed(1)+"%"})})):Object(a.jsx)("div",{className:"message",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:"No grades"})}),Object(a.jsxs)("div",{className:"add-panel",children:[Object(a.jsx)("div",{className:"average",style:t.average?{}:{margin:0},children:t.average?t.average.toFixed(1)+"%":null}),Object(a.jsx)("div",{className:"button",onClick:function(){return e.setState({currentUser:t.id},(function(){return e.setState({edit:!0})}))},children:"Add grade"})]})]})}))})]})}}]),n}(r.a.Component)),je=Object(u.f)(pe),me=(n(52),function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={subjects:[],isTeacher:!1,loading:!0},e.loadData=e.loadData.bind(Object(m.a)(e)),e.isTeacher=e.isTeacher.bind(Object(m.a)(e)),e}return Object(j.a)(n,[{key:"isTeacher",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=O("token"),e.next=3,N.getUser(t);case 3:if(!(n=e.sent).user||"teacher"!==n.user.role){e.next=6;break}return e.abrupt("return",!0);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"loadData",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,a,s,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=O("token"),e.next=4,N.getUserSubjects(t);case 4:if(!(n=e.sent).subjects){e.next=18;break}a=[],s=0;case 8:if(!(s<n.subjects.length)){e.next=17;break}return r=n.subjects[s],e.next=12,N.getSubject(r,t);case 12:c=e.sent,a.push(c.subject);case 14:s++,e.next=8;break;case 17:this.setState({loading:!1,subjects:a});case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadData(),e.next=3,this.isTeacher();case 3:t=e.sent,this.setState({isTeacher:t});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"screen",id:"subjects",children:[Object(a.jsx)(G,{title:"Subjects"}),Object(a.jsx)(E,{title:"Dive into your subjects",text:"All your subjects in one place. Take a look at the results you achieved or the subjects you teach.",image:L}),this.state.loading?Object(a.jsx)("div",{className:"fill-space",children:Object(a.jsx)(_,{})}):Object(a.jsx)("div",{className:"body-panel",children:this.state.subjects.map((function(t,n){return Object(a.jsx)(P,{withAnimation:!0,item:t,onClick:function(){return e.state.isTeacher?e.props.history.push("/subjects/"+t.id+"/classrooms"):e.props.history.push("/subjects/"+t.id)}})}))})]})}}]),n}(r.a.Component)),be=Object(u.f)(me),fe=(n(53),function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={subjects:[],loading:!0},e.loadSubjects=e.loadSubjects.bind(Object(m.a)(e)),e}return Object(j.a)(n,[{key:"loadSubjects",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,a,s,r,c,i,o,u,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=O("token"),e.next=4,N.getUserSubjects(t);case 4:if(!(n=e.sent).subjects){e.next=26;break}a=[],s=0;case 8:if(!(s<n.subjects.length)){e.next=23;break}return r=function(e,t){return e+t.value},e.next=12,N.getSubject(n.subjects[s],t);case 12:return c=e.sent,i=c.subject.id,e.next=16,N.getGrades(i,t);case 16:o=e.sent,u=o.grades.reduce(r,0)/o.grades.length,l=Object(he.a)(Object(he.a)({},c.subject),{},{grades:o.grades,average:u}),a.push(l);case 20:s++,e.next=8;break;case 23:this.setState({subjects:a,loading:!1}),e.next=28;break;case 26:this.setState({loading:!1}),alert("ERROR");case 28:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.loadSubjects()}},{key:"render",value:function(){var e=this;this.state.user;return Object(a.jsxs)("div",{className:"screen",id:"grades",children:[Object(a.jsx)(G,{title:"Grades"}),Object(a.jsx)(E,{title:"Analyse and improve your results",text:"Your average results by subjects, in one place. Analyse your results, consult them with your teachers and improve your skills.",image:L}),this.state.loading?Object(a.jsx)("div",{className:"fill-space",children:Object(a.jsx)(_,{})}):Object(a.jsx)("div",{className:"body-panel",children:Object(a.jsx)("div",{className:"grades",children:this.state.subjects.map((function(t,n){return Object(a.jsx)(ve,{withAnimation:!0,delay:50*n,title:t.name,value:t.average,style:n===e.state.subjects.length-1?{border:"none"}:null})}))})})]})}}]),n}(r.a.Component));function ve(e){var t=e.title,n=e.value,r=e.delay,c=Object(s.useState)(!1),i=Object(y.a)(c,2),o=i[0],u=i[1];function l(e){return e>=50?"#5E81F4":"#FF6A77"}return setTimeout((function(){u(!0)}),r||0),o?Object(a.jsxs)("div",{className:"grade"+(e.withAnimation?" animate__animated animate__fadeInUp":""),style:e.style,children:[Object(a.jsx)("div",{className:"description",children:t}),Object(a.jsx)("div",{style:{flex:1}}),n?Object(a.jsx)("div",{className:"bar",children:Object(a.jsx)("div",{className:"filled",style:{width:(n+"%").toString(),backgroundColor:l(n)}})}):null,n?Object(a.jsxs)("div",{className:"value",style:{color:l(n)},children:[n.toFixed(2),"%"]}):Object(a.jsx)("div",{className:"message",style:{width:100,textAlign:"right"},children:"No grades"})]}):null}var Oe=Object(u.f)(fe),xe=(n(54),function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={subject:{},grades:[],loading:!0},e.loadSubject=e.loadSubject.bind(Object(m.a)(e)),e.loadGrades=e.loadGrades.bind(Object(m.a)(e)),e}return Object(j.a)(n,[{key:"loadSubject",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,n=O("token"),e.next=4,N.getSubject(t,n);case 4:(a=e.sent).subject&&this.setState({subject:a.subject,loading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadGrades",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,n=O("token"),e.next=4,N.getGrades(t,n);case 4:(a=e.sent).grades&&this.setState({grades:a.grades});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){x()?(this.loadSubject(),this.loadGrades()):this.props.history.push("/")}},{key:"render",value:function(){var e=this,t=this.state.subject;return Object(a.jsxs)("div",{className:"screen",id:"subject",children:[Object(a.jsx)(G,{title:t.name?t.name:"Loading",withArrow:!0}),Object(a.jsx)(E,{title:t.name?t.name:"Loading",text:"Welcome back to EduLabs. You have new assignments, homeworks and grades. Look them up in your notification panel.",image:L}),this.state.loading?Object(a.jsx)("div",{className:"fill-space",children:Object(a.jsx)(_,{})}):Object(a.jsxs)("div",{className:"body-panel",children:[Object(a.jsx)("div",{className:"panel overview-panel animate__animated animate__fadeInUp",children:Object(a.jsx)("div",{className:"title-small",children:"Overview"})}),Object(a.jsxs)("div",{className:"panel grade-panel animate__animated animate__fadeInUp animate__delay-1s",children:[Object(a.jsx)("div",{className:"title-small",children:"Grades"}),Object(a.jsx)("div",{className:"grades",children:this.state.grades.length>0?this.state.grades.map((function(t,n){return Object(a.jsx)(ve,{title:t.description,value:t.value,style:n===e.state.grades.length-1?{border:"none"}:null})})):Object(a.jsx)("div",{className:"message",children:"No grades"})})]})]})]})}}]),n}(r.a.Component)),ge=Object(u.f)(xe);n(55);function ye(){return Object(a.jsx)(o.a,{basename:"/",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)(u.c,{children:[Object(a.jsx)(u.a,{exact:!0,path:"/",children:Object(a.jsx)(ie,{})}),Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)(T,{}),Object(a.jsx)(k,{}),Object(a.jsx)(U,{}),Object(a.jsx)(u.a,{exact:!0,path:"/dashboard",children:Object(a.jsx)(ue,{})}),Object(a.jsx)(u.a,{exact:!0,path:"/subjects",children:Object(a.jsx)(be,{})}),Object(a.jsx)(u.a,{exact:!0,path:"/subjects/:id",children:Object(a.jsx)(ge,{})}),Object(a.jsx)(u.a,{exact:!0,path:"/subjects/:id/classrooms",children:Object(a.jsx)(de,{})}),Object(a.jsx)(u.a,{exact:!0,path:"/subjects/:id/classrooms/:classroomId",children:Object(a.jsx)(je,{})}),Object(a.jsx)(u.a,{exact:!0,path:"/grades",children:Object(a.jsx)(Oe,{})}),Object(a.jsx)(u.a,{exact:!0,path:"/admin",children:Object(a.jsx)(R,{})}),Object(a.jsx)(u.a,{exact:!0,path:"/admin/classrooms",children:Object(a.jsx)(Y,{})}),Object(a.jsx)(u.a,{exact:!0,path:"/admin/classrooms/:id",children:Object(a.jsx)(K,{})}),Object(a.jsx)(u.a,{exact:!0,path:"/admin/users/:id",children:Object(a.jsx)($,{})}),Object(a.jsx)(u.a,{exact:!0,path:"/admin/students",children:Object(a.jsx)(te,{})}),Object(a.jsx)(u.a,{exact:!0,path:"/admin/teachers",children:Object(a.jsx)(ae,{})}),Object(a.jsx)(u.a,{exact:!0,path:"/admin/subjects",children:Object(a.jsx)(re,{})}),Object(a.jsx)(u.a,{path:"/edulabs",children:Object(a.jsx)(A,{})})]})]})})})}function ke(){return Object(a.jsx)(ye,{})}i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(ke,{})}),document.getElementById("root"))}],[[56,1,2]]]);
//# sourceMappingURL=main.e6d4820f.chunk.js.map