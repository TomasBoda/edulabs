{"ast":null,"code":"import _regeneratorRuntime from\"/Users/tomasboda/Documents/Workspace/React/edulabs/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/tomasboda/Documents/Workspace/React/edulabs/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/tomasboda/Documents/Workspace/React/edulabs/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/tomasboda/Documents/Workspace/React/edulabs/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/tomasboda/Documents/Workspace/React/edulabs/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/tomasboda/Documents/Workspace/React/edulabs/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/tomasboda/Documents/Workspace/React/edulabs/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React from\"react\";import{Link,withRouter}from\"react-router-dom\";import{setStorageItem,getStorageItem,removeStorageItem,isLogged}from\"../../config/Config\";import Api from\"../../config/Api\";import Loading from\"../../components/Loading\";import Panel from\"../../components/Panel\";import Heading from\"../../components/Heading\";import Box from\"../../components/Box\";import Edit from\"../../components/Edit\";import\"../../styles/admin.css\";import Icon from\"../../assets/login-icon.svg\";import AddIcon from\"../../assets/add-icon.svg\";import ClassIcon from\"../../assets/class-icon.svg\";var AdminClassrooms=/*#__PURE__*/function(_React$Component){_inherits(AdminClassrooms,_React$Component);var _super=_createSuper(AdminClassrooms);function AdminClassrooms(){var _this;_classCallCheck(this,AdminClassrooms);_this=_super.call(this);_this.state={edit:false,type:\"add-classroom\",classrooms:[],loading:true};_this.loadData=_this.loadData.bind(_assertThisInitialized(_this));return _this;}_createClass(AdminClassrooms,[{key:\"loadData\",value:function(){var _loadData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var token,call,classrooms;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:this.setState({loading:true});token=getStorageItem(\"token\");_context.next=4;return Api.getAdminClassrooms(token);case 4:call=_context.sent;if(call.classrooms){classrooms=call.classrooms;classrooms.sort(function(a,b){return a.name.localeCompare(b.name);});this.setState({classrooms:classrooms,loading:false});}case 6:case\"end\":return _context.stop();}}},_callee,this);}));function loadData(){return _loadData.apply(this,arguments);}return loadData;}()},{key:\"componentDidMount\",value:function componentDidMount(){this.loadData();}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"screen\",id:\"admin\",children:[/*#__PURE__*/_jsx(Heading,{title:\"Classrooms\"}),/*#__PURE__*/_jsx(Panel,{title:\"Administrate your classrooms\",text:\"All your classrooms in one place. Create new classrooms, allocate your students into them and build a solid foundation for your school.\",image:Icon}),this.state.edit?/*#__PURE__*/_jsx(Edit,{type:this.state.type,close:function close(){return _this2.setState({edit:false},function(){return _this2.loadData();});}}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"body-panel\",children:[/*#__PURE__*/_jsx(Box,{item:{name:\"Add classroom\"},icon:AddIcon,onClick:function onClick(){return _this2.setState({edit:true});}}),this.state.classrooms.map(function(classroom){return/*#__PURE__*/_jsx(Box,{item:classroom,onClick:function onClick(){return _this2.props.history.push({pathname:\"/admin/classrooms/\"+classroom.id});},icon:ClassIcon});})]})]});}}]);return AdminClassrooms;}(React.Component);export default withRouter(AdminClassrooms);","map":{"version":3,"sources":["/Users/tomasboda/Documents/Workspace/React/edulabs/src/app/screens/admin/AdminClassrooms.js"],"names":["React","Link","withRouter","setStorageItem","getStorageItem","removeStorageItem","isLogged","Api","Loading","Panel","Heading","Box","Edit","AdminClassrooms","state","edit","type","classrooms","loading","loadData","bind","setState","token","getAdminClassrooms","call","sort","a","b","name","localeCompare","Icon","AddIcon","map","classroom","props","history","push","pathname","id","ClassIcon","Component"],"mappings":"w/BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CAEA,OAASC,cAAT,CAAyBC,cAAzB,CAAyCC,iBAAzC,CAA4DC,QAA5D,KAA4E,qBAA5E,CAEA,MAAOC,CAAAA,GAAP,KAAgB,kBAAhB,CACA,MAAOC,CAAAA,OAAP,KAAoB,0BAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,wBAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,0BAApB,CACA,MAAOC,CAAAA,GAAP,KAAgB,sBAAhB,CACA,MAAOC,CAAAA,IAAP,KAAiB,uBAAjB,CAEA,MAAO,wBAAP,C,mJAMMC,CAAAA,e,8HAWF,0BAAc,iDACV,wBADU,MATdC,KASc,CATN,CACJC,IAAI,CAAE,KADF,CAEJC,IAAI,CAAE,eAFF,CAIJC,UAAU,CAAE,EAJR,CAMJC,OAAO,CAAE,IANL,CASM,CAGV,MAAKC,QAAL,CAAgB,MAAKA,QAAL,CAAcC,IAAd,+BAAhB,CAHU,aAIb,C,kSAGG,KAAKC,QAAL,CAAc,CAAEH,OAAO,CAAE,IAAX,CAAd,EAEMI,K,CAAQlB,cAAc,CAAC,OAAD,C,uBAETG,CAAAA,GAAG,CAACgB,kBAAJ,CAAuBD,KAAvB,C,QAAbE,I,eAEN,GAAIA,IAAI,CAACP,UAAT,CAAqB,CACbA,UADa,CACAO,IAAI,CAACP,UADL,CAEjBA,UAAU,CAACQ,IAAX,CAAgB,SAACC,CAAD,CAAIC,CAAJ,CAAU,CACtB,MAAOD,CAAAA,CAAC,CAACE,IAAF,CAAOC,aAAP,CAAqBF,CAAC,CAACC,IAAvB,CAAP,CACH,CAFD,EAIA,KAAKP,QAAL,CAAc,CACVJ,UAAU,CAAEA,UADF,CAEVC,OAAO,CAAE,KAFC,CAAd,EAIH,C,0MAGe,CAChB,KAAKC,QAAL,GACH,C,uCAEQ,iBACL,mBACI,aAAK,SAAS,CAAC,QAAf,CAAwB,EAAE,CAAC,OAA3B,wBACI,KAAC,OAAD,EAAS,KAAK,CAAC,YAAf,EADJ,cAGI,KAAC,KAAD,EACI,KAAK,CAAC,8BADV,CAEI,IAAI,CAAC,yIAFT,CAGI,KAAK,CAAEW,IAHX,EAHJ,CASK,KAAKhB,KAAL,CAAWC,IAAX,cACG,KAAC,IAAD,EACI,IAAI,CAAE,KAAKD,KAAL,CAAWE,IADrB,CAEI,KAAK,CAAE,uBAAM,CAAA,MAAI,CAACK,QAAL,CAAc,CAAEN,IAAI,CAAE,KAAR,CAAd,CAA+B,iBAAM,CAAA,MAAI,CAACI,QAAL,EAAN,EAA/B,CAAN,EAFX,EADH,CAKG,IAdR,cAgBI,aAAK,SAAS,CAAC,YAAf,wBACI,KAAC,GAAD,EACI,IAAI,CAAE,CAAES,IAAI,CAAE,eAAR,CADV,CAEI,IAAI,CAAEG,OAFV,CAGI,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACV,QAAL,CAAc,CAAEN,IAAI,CAAE,IAAR,CAAd,CAAN,EAHb,EADJ,CAOK,KAAKD,KAAL,CAAWG,UAAX,CAAsBe,GAAtB,CAA0B,SAACC,SAAD,qBACvB,KAAC,GAAD,EACI,IAAI,CAAEA,SADV,CAEI,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,CAAEC,QAAQ,CAAE,qBAAuBJ,SAAS,CAACK,EAA7C,CAAxB,CAAN,EAFb,CAGI,IAAI,CAAEC,SAHV,EADuB,EAA1B,CAPL,GAhBJ,GADJ,CAkCH,C,6BA5EyBvC,KAAK,CAACwC,S,EA+EpC,cAAetC,CAAAA,UAAU,CAACW,eAAD,CAAzB","sourcesContent":["import React from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\n\nimport { setStorageItem, getStorageItem, removeStorageItem, isLogged } from \"../../config/Config\";\n\nimport Api from \"../../config/Api\";\nimport Loading from \"../../components/Loading\";\nimport Panel from \"../../components/Panel\";\nimport Heading from \"../../components/Heading\";\nimport Box from \"../../components/Box\";\nimport Edit from \"../../components/Edit\";\n\nimport \"../../styles/admin.css\";\n\nimport Icon from \"../../assets/login-icon.svg\";\nimport AddIcon from \"../../assets/add-icon.svg\";\nimport ClassIcon from \"../../assets/class-icon.svg\";\n\nclass AdminClassrooms extends React.Component {\n\n    state = {\n        edit: false,\n        type: \"add-classroom\",\n\n        classrooms: [],\n\n        loading: true\n    }\n\n    constructor() {\n        super();\n\n        this.loadData = this.loadData.bind(this);\n    }\n\n    async loadData() {\n        this.setState({ loading: true });\n\n        const token = getStorageItem(\"token\");\n\n        const call = await Api.getAdminClassrooms(token);\n\n        if (call.classrooms) {\n            var classrooms = call.classrooms;\n            classrooms.sort((a, b) => {\n                return a.name.localeCompare(b.name);\n            });\n\n            this.setState({\n                classrooms: classrooms,\n                loading: false\n            });\n        }\n    }\n\n    componentDidMount() {\n        this.loadData();\n    }\n\n    render() {\n        return(\n            <div className=\"screen\" id=\"admin\">\n                <Heading title=\"Classrooms\" />\n\n                <Panel\n                    title=\"Administrate your classrooms\"\n                    text=\"All your classrooms in one place. Create new classrooms, allocate your students into them and build a solid foundation for your school.\"\n                    image={Icon}\n                />\n\n                {this.state.edit ? (\n                    <Edit\n                        type={this.state.type}\n                        close={() => this.setState({ edit: false }, () => this.loadData())}\n                    />\n                ) : null}\n\n                <div className=\"body-panel\">\n                    <Box\n                        item={{ name: \"Add classroom\" }}\n                        icon={AddIcon}\n                        onClick={() => this.setState({ edit: true })}\n                    />\n\n                    {this.state.classrooms.map((classroom) => (\n                        <Box\n                            item={classroom}\n                            onClick={() => this.props.history.push({ pathname: \"/admin/classrooms/\" + classroom.id })}\n                            icon={ClassIcon}\n                        />\n                    ))}\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default withRouter(AdminClassrooms);"]},"metadata":{},"sourceType":"module"}