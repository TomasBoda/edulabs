{"ast":null,"code":"import _regeneratorRuntime from\"/Users/tomasboda/Documents/Workspace/React/edulabs/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/tomasboda/Documents/Workspace/React/edulabs/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/tomasboda/Documents/Workspace/React/edulabs/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/tomasboda/Documents/Workspace/React/edulabs/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/tomasboda/Documents/Workspace/React/edulabs/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/tomasboda/Documents/Workspace/React/edulabs/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/tomasboda/Documents/Workspace/React/edulabs/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React from\"react\";import{setStorageItem,getStorageItem,removeStorageItem,isLogged}from\"../config/Config\";import Api from\"../config/Api\";import Loading from\"./Loading\";import\"../styles/edit.css\";var Edit=/*#__PURE__*/function(_React$Component){_inherits(Edit,_React$Component);var _super=_createSuper(Edit);function Edit(){var _this;_classCallCheck(this,Edit);_this=_super.call(this);_this.state={loading:false,log:false,message:\"\",firstname:\"\",lastname:\"\",email:\"\",password:\"\",role:\"student\",admin:0,subjectName:\"\",gradeValue:\"\",gradeDescription:\"\"};_this.createUser=_this.createUser.bind(_assertThisInitialized(_this));_this.createClassroom=_this.createClassroom.bind(_assertThisInitialized(_this));_this.createSubject=_this.createSubject.bind(_assertThisInitialized(_this));_this.createGrade=_this.createGrade.bind(_assertThisInitialized(_this));return _this;}_createClass(Edit,[{key:\"createUser\",value:function(){var _createUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var token,data,call;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:this.setState({loading:true});token=getStorageItem(\"token\");if(!(this.state.firstname.trim()===\"\"||this.state.lastname.trim()===\"\"||this.state.email.trim()===\"\"||this.state.password.trim()===\"\"||this.state.admin.trim()===\"\")){_context.next=5;break;}this.setState({loading:false});return _context.abrupt(\"return\");case 5:data={firstname:this.state.firstname,lastname:this.state.lastname,email:this.state.email,password:this.state.password,role:this.props.role,admin:this.state.admin};if(this.props.role===\"student\")data[\"classroom\"]=this.props.classroom;_context.next=9;return Api.createUser(data,token);case 9:call=_context.sent;if(call.message===\"User registered successfully\"){this.props.finish();}else{this.setState({loading:false,log:true,message:call.message});}case 11:case\"end\":return _context.stop();}}},_callee,this);}));function createUser(){return _createUser.apply(this,arguments);}return createUser;}()},{key:\"createClassroom\",value:function(){var _createClassroom=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var token,call;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:this.setState({loading:true});token=getStorageItem(\"token\");if(!(this.state.classroomName.trim()===\"\")){_context2.next=5;break;}this.setState({loading:false});return _context2.abrupt(\"return\");case 5:_context2.next=7;return Api.createClassroom({name:this.state.classroomName},token);case 7:call=_context2.sent;if(call.message===\"Classroom created successfully\"){this.props.finish();}else{this.setState({loading:false,log:true,message:call.message});}case 9:case\"end\":return _context2.stop();}}},_callee2,this);}));function createClassroom(){return _createClassroom.apply(this,arguments);}return createClassroom;}()},{key:\"createSubject\",value:function(){var _createSubject=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var token,call;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:this.setState({loading:true});token=getStorageItem(\"token\");if(!(this.state.subjectName.trim()===\"\")){_context3.next=5;break;}this.setState({loading:false});return _context3.abrupt(\"return\");case 5:_context3.next=7;return Api.createSubject({name:this.state.subjectName},token);case 7:call=_context3.sent;if(call.message===\"Subject created successfully\"){this.props.finish();}else{this.setState({loading:false,log:true,message:call.message});}case 9:case\"end\":return _context3.stop();}}},_callee3,this);}));function createSubject(){return _createSubject.apply(this,arguments);}return createSubject;}()},{key:\"createGrade\",value:function(){var _createGrade=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var token,call;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:this.setState({loading:true});token=getStorageItem(\"token\");if(!(this.state.gradeValue.trim()===\"\"||this.state.gradeDescription.trim()===\"\")){_context4.next=5;break;}this.setState({loading:false});return _context4.abrupt(\"return\");case 5:_context4.next=7;return Api.createGrade({value:this.state.gradeValue,description:this.state.gradeDescription,userId:this.props.userId,subjectId:this.props.subjectId},token);case 7:call=_context4.sent;if(call.message===\"Grade created successfully\"){this.props.finish();}else{this.setState({loading:false,log:true,message:call.message});}case 9:case\"end\":return _context4.stop();}}},_callee4,this);}));function createGrade(){return _createGrade.apply(this,arguments);}return createGrade;}()},{key:\"componentDidMount\",value:function componentDidMount(){}},{key:\"render\",value:function render(){var _this2=this;var type=this.props.type;if(this.state.loading){return/*#__PURE__*/_jsx(\"div\",{className:\"edit-screen\",children:/*#__PURE__*/_jsx(\"div\",{className:\"edit\",style:{width:\"auto\"},children:/*#__PURE__*/_jsx(Loading,{})})});}if(this.state.log){return/*#__PURE__*/_jsx(\"div\",{className:\"edit-screen\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"edit\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:this.state.message}),/*#__PURE__*/_jsx(\"div\",{className:\"button\",onClick:function onClick(){return _this2.props.close();},children:\"Close\"})]})});}if(type===\"add-user\"){return/*#__PURE__*/_jsx(\"div\",{className:\"edit-screen animate__animated animate__fadeIn\",id:\"add-user\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"edit animate__animated animate__backInDown\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title\",children:[\"Add \",this.props.role,/*#__PURE__*/_jsx(\"ion-icon\",{name:\"close\",onClick:function onClick(){return _this2.props.close();}})]}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"text\",value:this.state.firstname,onChange:function onChange(event){return _this2.setState({firstname:event.target.value});},placeholder:\"First name\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"text\",value:this.state.lastname,onChange:function onChange(event){return _this2.setState({lastname:event.target.value});},placeholder:\"Last name\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"text\",value:this.state.email,onChange:function onChange(event){return _this2.setState({email:event.target.value});},placeholder:\"E-mail\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"password\",value:this.state.password,onChange:function onChange(event){return _this2.setState({password:event.target.value});},placeholder:\"Password\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"choice\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"item\",onClick:function onClick(){return _this2.setState({admin:1});},style:this.state.admin===1?{backgroundColor:\"#5E81F4\",color:\"white\"}:null,children:\"Admin\"}),/*#__PURE__*/_jsx(\"div\",{className:\"item\",onClick:function onClick(){return _this2.setState({admin:0});},style:this.state.admin===0?{backgroundColor:\"#5E81F4\",color:\"white\"}:null,children:\"Regular\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"button\",onClick:function onClick(){return _this2.createUser();},children:\"Create\"})]})});}else if(type===\"add-classroom\"){return/*#__PURE__*/_jsx(\"div\",{className:\"edit-screen animate__animated animate__fadeIn\",id:\"add-classroom\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"edit animate__animated animate__backInDown\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title\",children:[\"Create classroom\",/*#__PURE__*/_jsx(\"ion-icon\",{name:\"close\",onClick:function onClick(){return _this2.props.close();}})]}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"text\",value:this.state.classroomName,onChange:function onChange(event){return _this2.setState({classroomName:event.target.value});},placeholder:\"Classroom name\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"button\",onClick:function onClick(){return _this2.createClassroom();},children:\"Create\"})]})});}else if(type===\"add-subject\"){return/*#__PURE__*/_jsx(\"div\",{className:\"edit-screen animate__animated animate__fadeIn\",id:\"add-subject\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"edit animate__animated animate__backInDown\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title\",children:[\"Create subject\",/*#__PURE__*/_jsx(\"ion-icon\",{name:\"close\",onClick:function onClick(){return _this2.props.close();}})]}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"text\",value:this.state.subjectName,onChange:function onChange(event){return _this2.setState({subjectName:event.target.value});},placeholder:\"Subject name\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"button\",onClick:function onClick(){return _this2.createSubject();},children:\"Create\"})]})});}else if(type===\"add-grade\"){return/*#__PURE__*/_jsx(\"div\",{className:\"edit-screen animate__animated animate__fadeIn\",id:\"add-grade\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"edit animate__animated animate__backInDown\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title\",children:[\"Create grade\",/*#__PURE__*/_jsx(\"ion-icon\",{name:\"close\",onClick:function onClick(){return _this2.props.close();}})]}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"text\",value:this.state.gradeValue,onChange:function onChange(event){return _this2.setState({gradeValue:event.target.value});},placeholder:\"Grade value in percentage\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"text\",value:this.state.gradeDescription,onChange:function onChange(event){return _this2.setState({gradeDescription:event.target.value});},placeholder:\"Grade description\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"button\",onClick:function onClick(){return _this2.createGrade();},children:\"Create\"})]})});}}}]);return Edit;}(React.Component);export{Edit as default};","map":{"version":3,"sources":["/Users/tomasboda/Documents/Workspace/React/edulabs/src/app/components/Edit.js"],"names":["React","setStorageItem","getStorageItem","removeStorageItem","isLogged","Api","Loading","Edit","state","loading","log","message","firstname","lastname","email","password","role","admin","subjectName","gradeValue","gradeDescription","createUser","bind","createClassroom","createSubject","createGrade","setState","token","trim","data","props","classroom","call","finish","classroomName","name","value","description","userId","subjectId","type","width","close","event","target","backgroundColor","color","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport { setStorageItem, getStorageItem, removeStorageItem, isLogged } from \"../config/Config\";\n\nimport Api from \"../config/Api\";\nimport Loading from \"./Loading\";\n\nimport \"../styles/edit.css\";\n\nexport default class Edit extends React.Component {\n\n    state = {\n        loading: false,\n        log: false,\n        message: \"\",\n\n        firstname: \"\",\n        lastname: \"\",\n        email: \"\",\n        password: \"\",\n        role: \"student\",\n        admin: 0,\n\n        subjectName: \"\",\n\n        gradeValue: \"\",\n        gradeDescription: \"\"\n    }\n\n    constructor() {\n        super();\n\n        this.createUser = this.createUser.bind(this);\n        this.createClassroom = this.createClassroom.bind(this);\n        this.createSubject = this.createSubject.bind(this);\n        this.createGrade = this.createGrade.bind(this);\n    }\n\n    async createUser() {\n        this.setState({ loading: true });\n\n        const token = getStorageItem(\"token\");\n\n        if (this.state.firstname.trim() === \"\" ||\n            this.state.lastname.trim() === \"\" ||\n            this.state.email.trim() === \"\" ||\n            this.state.password.trim() === \"\" ||\n            this.state.admin.trim() === \"\") {\n            this.setState({ loading: false });\n            return;\n        }\n\n        var data = {\n            firstname: this.state.firstname,\n            lastname: this.state.lastname,\n            email: this.state.email,\n            password: this.state.password,\n            role: this.props.role,\n            admin: this.state.admin,\n        }\n\n        if (this.props.role === \"student\") data[\"classroom\"] = this.props.classroom;\n\n        const call = await Api.createUser(data, token);\n\n        if (call.message === \"User registered successfully\") {\n            this.props.finish();\n        } else {\n            this.setState({\n                loading: false,\n                log: true,\n                message: call.message\n            })\n        }\n    }\n\n    async createClassroom() {\n        this.setState({ loading: true });\n\n        const token = getStorageItem(\"token\");\n\n        if (this.state.classroomName.trim() === \"\") {\n            this.setState({ loading: false });\n            return;\n        }\n\n        const call = await Api.createClassroom({\n            name: this.state.classroomName\n        }, token);\n\n        if (call.message === \"Classroom created successfully\") {\n            this.props.finish();\n        } else {\n            this.setState({\n                loading: false,\n                log: true,\n                message: call.message\n            });\n        }\n    }\n\n    async createSubject() {\n        this.setState({ loading: true });\n\n        const token = getStorageItem(\"token\");\n\n        if (this.state.subjectName.trim() === \"\") {\n            this.setState({ loading: false });\n            return;\n        }\n\n        const call = await Api.createSubject({\n            name: this.state.subjectName\n        }, token);\n\n        if (call.message === \"Subject created successfully\") {\n            this.props.finish();\n        } else {\n            this.setState({\n                loading: false,\n                log: true,\n                message: call.message\n            });\n        }\n    }\n\n    async createGrade() {\n        this.setState({ loading: true });\n\n        const token = getStorageItem(\"token\");\n\n        if (this.state.gradeValue.trim() === \"\" || this.state.gradeDescription.trim() === \"\") {\n            this.setState({ loading: false });\n            return;\n        }\n\n        const call = await Api.createGrade({\n            value: this.state.gradeValue,\n            description: this.state.gradeDescription,\n            userId: this.props.userId,\n            subjectId: this.props.subjectId\n        }, token);\n\n        if (call.message === \"Grade created successfully\") {\n            this.props.finish();\n        } else {\n            this.setState({\n                loading: false,\n                log: true,\n                message: call.message\n            });\n        }\n    }\n\n    componentDidMount() {\n        \n    }\n\n    render() {\n        const type = this.props.type;\n\n        if (this.state.loading) {\n            return <div className=\"edit-screen\"><div className=\"edit\" style={{ width: \"auto\" }}><Loading /></div></div>;\n        }\n\n        if (this.state.log) {\n            return(\n                <div className=\"edit-screen\">\n                    <div className=\"edit\">\n                        <div className=\"title\">{this.state.message}</div>\n                        <div className=\"button\" onClick={() => this.props.close()}>Close</div>\n                    </div>\n                </div>\n            )\n        }\n\n        if (type === \"add-user\") {\n            return(\n                <div className=\"edit-screen animate__animated animate__fadeIn\" id=\"add-user\">\n                    <div className=\"edit animate__animated animate__backInDown\">\n                        <div className=\"title\">Add {this.props.role}<ion-icon name=\"close\" onClick={() => this.props.close()}></ion-icon></div>\n\n                        <input className=\"input\" type=\"text\" value={this.state.firstname} onChange={(event) => this.setState({ firstname: event.target.value })} placeholder=\"First name\" />\n                        <input className=\"input\" type=\"text\" value={this.state.lastname} onChange={(event) => this.setState({ lastname: event.target.value })} placeholder=\"Last name\" />\n                        <input className=\"input\" type=\"text\" value={this.state.email} onChange={(event) => this.setState({ email: event.target.value })} placeholder=\"E-mail\" />\n\n                        <br />\n\n                        <input className=\"input\" type=\"password\" value={this.state.password} onChange={(event) => this.setState({ password: event.target.value })} placeholder=\"Password\" />\n\n                        <br />\n                        <br />\n\n                        <div className=\"choice\">\n                            <div className=\"item\" onClick={() => this.setState({ admin: 1 })} style={this.state.admin === 1 ? { backgroundColor: \"#5E81F4\", color: \"white\" } : null}>Admin</div>\n                            <div className=\"item\" onClick={() => this.setState({ admin: 0 })} style={this.state.admin === 0 ? { backgroundColor: \"#5E81F4\", color: \"white\" } : null}>Regular</div>\n                        </div>\n\n                        <br />\n                        <br />\n\n                        <div className=\"button\" onClick={() => this.createUser()}>Create</div>\n                    </div>\n                </div>\n            )\n        } else if (type === \"add-classroom\") {\n            return(\n                <div className=\"edit-screen animate__animated animate__fadeIn\" id=\"add-classroom\">\n                    <div className=\"edit animate__animated animate__backInDown\">\n                        <div className=\"title\">Create classroom<ion-icon name=\"close\" onClick={() => this.props.close()}></ion-icon></div>\n\n                        <input className=\"input\" type=\"text\" value={this.state.classroomName} onChange={(event) => this.setState({ classroomName: event.target.value })} placeholder=\"Classroom name\" />\n\n                        <br />\n                        <br />\n\n                        <div className=\"button\" onClick={() => this.createClassroom()}>Create</div>\n                    </div>\n                </div>\n            )\n        } else if (type === \"add-subject\") {\n            return(\n                <div className=\"edit-screen animate__animated animate__fadeIn\" id=\"add-subject\">\n                    <div className=\"edit animate__animated animate__backInDown\">\n                        <div className=\"title\">Create subject<ion-icon name=\"close\" onClick={() => this.props.close()}></ion-icon></div>\n\n                        <input className=\"input\" type=\"text\" value={this.state.subjectName} onChange={(event) => this.setState({ subjectName: event.target.value })} placeholder=\"Subject name\" />\n\n                        <br />\n                        <br />\n\n                        <div className=\"button\" onClick={() => this.createSubject()}>Create</div>\n                    </div>\n                </div>\n            )\n        } else if (type === \"add-grade\") {\n            return(\n                <div className=\"edit-screen animate__animated animate__fadeIn\" id=\"add-grade\">\n                    <div className=\"edit animate__animated animate__backInDown\">\n                        <div className=\"title\">Create grade<ion-icon name=\"close\" onClick={() => this.props.close()}></ion-icon></div>\n\n                        <input className=\"input\" type=\"text\" value={this.state.gradeValue} onChange={(event) => this.setState({ gradeValue: event.target.value })} placeholder=\"Grade value in percentage\" />\n                        <input className=\"input\" type=\"text\" value={this.state.gradeDescription} onChange={(event) => this.setState({ gradeDescription: event.target.value })} placeholder=\"Grade description\" />\n\n                        <br />\n                        <br />\n\n                        <div className=\"button\" onClick={() => this.createGrade()}>Create</div>\n                    </div>\n                </div>\n            )\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}