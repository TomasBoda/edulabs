{"ast":null,"code":"import _regeneratorRuntime from\"/Users/tomasboda/Documents/Workspace/React/edulabs/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/tomasboda/Documents/Workspace/React/edulabs/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/tomasboda/Documents/Workspace/React/edulabs/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/tomasboda/Documents/Workspace/React/edulabs/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/tomasboda/Documents/Workspace/React/edulabs/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/tomasboda/Documents/Workspace/React/edulabs/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/tomasboda/Documents/Workspace/React/edulabs/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React from\"react\";import{withRouter}from\"react-router-dom\";import{setStorageItem,getStorageItem,removeStorageItem,isLogged}from\"../config/Config\";import Api from\"../config/Api\";import Loading from\"../components/Loading\";import Panel from\"../components/Panel\";import Heading from\"../components/Heading\";import\"../styles/dashboard.css\";import Icon from\"../assets/dashboard-icon.svg\";import PanelIcon from\"../assets/subjects-icon.svg\";var Dashboard=/*#__PURE__*/function(_React$Component){_inherits(Dashboard,_React$Component);var _super=_createSuper(Dashboard);function Dashboard(){var _this;_classCallCheck(this,Dashboard);_this=_super.call(this);_this.state={user:{}};_this.getUser=_this.getUser.bind(_assertThisInitialized(_this));return _this;}_createClass(Dashboard,[{key:\"getUser\",value:function(){var _getUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var token,user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:token=getStorageItem(\"token\");_context.next=3;return Api.getUser(token);case 3:user=_context.sent;console.log(user);if(user.user){this.setState({user:user.user});console.log(user);}case 6:case\"end\":return _context.stop();}}},_callee,this);}));function getUser(){return _getUser.apply(this,arguments);}return getUser;}()},{key:\"componentDidMount\",value:function componentDidMount(){if(isLogged()){this.getUser();}else{this.props.history.push(\"/\");}}},{key:\"render\",value:function render(){var rawDate=new Date().toString().split(\" \");var date=rawDate[0]+\" \"+rawDate[2]+\", \"+rawDate[1]+\" \"+rawDate[3];var user=this.state.user;return/*#__PURE__*/_jsxs(\"div\",{className:\"screen\",id:\"dashboard\",children:[/*#__PURE__*/_jsx(Heading,{title:\"Dashboard\"}),/*#__PURE__*/_jsx(Panel,{title:\"Welcome back, \"+user.firstname,text:\"Welcome back to EduLabs. A place where education prospers, a place where teachers help their students get the best out of their skills and help them grow.\",image:PanelIcon}),/*#__PURE__*/_jsxs(\"div\",{className:\"body-panel\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"average panel animate__animated animate__fadeInUp\",children:/*#__PURE__*/_jsx(\"div\",{className:\"title-small\",children:\"Results\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"homework panel animate__animated animate__fadeInUp animate__delay-1s\",children:/*#__PURE__*/_jsx(\"div\",{className:\"title-small\",children:\"Homework\"})})]})]});}}]);return Dashboard;}(React.Component);export default withRouter(Dashboard);","map":{"version":3,"sources":["/Users/tomasboda/Documents/Workspace/React/edulabs/src/app/screens/Dashboard.js"],"names":["React","withRouter","setStorageItem","getStorageItem","removeStorageItem","isLogged","Api","Loading","Panel","Heading","Dashboard","state","user","getUser","bind","token","console","log","setState","props","history","push","rawDate","Date","toString","split","date","firstname","PanelIcon","Component"],"mappings":"w/BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA,OAASC,cAAT,CAAyBC,cAAzB,CAAyCC,iBAAzC,CAA4DC,QAA5D,KAA4E,kBAA5E,CAEA,MAAOC,CAAAA,GAAP,KAAgB,eAAhB,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CAEA,MAAO,yBAAP,C,qGAKMC,CAAAA,S,kHAMF,oBAAc,2CACV,wBADU,MAJdC,KAIc,CAJN,CACJC,IAAI,CAAE,EADF,CAIM,CAGV,MAAKC,OAAL,CAAe,MAAKA,OAAL,CAAaC,IAAb,+BAAf,CAHU,aAIb,C,+QAGSC,K,CAAQZ,cAAc,CAAC,OAAD,C,uBAETG,CAAAA,GAAG,CAACO,OAAJ,CAAYE,KAAZ,C,QAAbH,I,eAENI,OAAO,CAACC,GAAR,CAAYL,IAAZ,EAEA,GAAIA,IAAI,CAACA,IAAT,CAAe,CACX,KAAKM,QAAL,CAAc,CAAEN,IAAI,CAAEA,IAAI,CAACA,IAAb,CAAd,EACAI,OAAO,CAACC,GAAR,CAAYL,IAAZ,EACH,C,uMAGe,CAChB,GAAIP,QAAQ,EAAZ,CAAgB,CACZ,KAAKQ,OAAL,GACH,CAFD,IAEO,CACH,KAAKM,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB,EACH,CACJ,C,uCAEQ,CACL,GAAIC,CAAAA,OAAO,CAAG,GAAIC,CAAAA,IAAJ,GAAWC,QAAX,GAAsBC,KAAtB,CAA4B,GAA5B,CAAd,CACA,GAAIC,CAAAA,IAAI,CAAGJ,OAAO,CAAC,CAAD,CAAP,CAAa,GAAb,CAAoBA,OAAO,CAAC,CAAD,CAA3B,CAAiC,IAAjC,CAAwCA,OAAO,CAAC,CAAD,CAA/C,CAAqD,GAArD,CAA2DA,OAAO,CAAC,CAAD,CAA7E,CAEA,GAAMV,CAAAA,IAAI,CAAG,KAAKD,KAAL,CAAWC,IAAxB,CAEA,mBACI,aAAK,SAAS,CAAC,QAAf,CAAwB,EAAE,CAAC,WAA3B,wBACI,KAAC,OAAD,EAAS,KAAK,CAAC,WAAf,EADJ,cAGI,KAAC,KAAD,EACI,KAAK,CAAE,iBAAmBA,IAAI,CAACe,SADnC,CAEI,IAAI,CAAC,4JAFT,CAGI,KAAK,CAAEC,SAHX,EAHJ,cASI,aAAK,SAAS,CAAC,YAAf,wBACI,YAAK,SAAS,CAAC,mDAAf,uBACI,YAAK,SAAS,CAAC,aAAf,qBADJ,EADJ,cAKI,YAAK,SAAS,CAAC,sEAAf,uBACI,YAAK,SAAS,CAAC,aAAf,sBADJ,EALJ,GATJ,GADJ,CAqBH,C,uBA5DmB5B,KAAK,CAAC6B,S,EA+D9B,cAAe5B,CAAAA,UAAU,CAACS,SAAD,CAAzB","sourcesContent":["import React from \"react\";\nimport { withRouter } from \"react-router-dom\";\n\nimport { setStorageItem, getStorageItem, removeStorageItem, isLogged } from \"../config/Config\";\n\nimport Api from \"../config/Api\";\nimport Loading from \"../components/Loading\";\nimport Panel from \"../components/Panel\";\nimport Heading from \"../components/Heading\";\n\nimport \"../styles/dashboard.css\";\n\nimport Icon from \"../assets/dashboard-icon.svg\";\nimport PanelIcon from \"../assets/subjects-icon.svg\";\n\nclass Dashboard extends React.Component {\n\n    state = {\n        user: {}\n    }\n\n    constructor() {\n        super();\n\n        this.getUser = this.getUser.bind(this);\n    }\n\n    async getUser() {\n        const token = getStorageItem(\"token\");\n\n        const user = await Api.getUser(token);\n\n        console.log(user);\n\n        if (user.user) {\n            this.setState({ user: user.user });\n            console.log(user);\n        }\n    }\n\n    componentDidMount() {\n        if (isLogged()) {\n            this.getUser();\n        } else {\n            this.props.history.push(\"/\");\n        }\n    }\n\n    render() {\n        var rawDate = new Date().toString().split(\" \");\n        var date = rawDate[0] + \" \" +  rawDate[2] + \", \" + rawDate[1] + \" \" + rawDate[3];\n\n        const user = this.state.user;\n\n        return(\n            <div className=\"screen\" id=\"dashboard\">\n                <Heading title=\"Dashboard\" />\n\n                <Panel\n                    title={\"Welcome back, \" + user.firstname}\n                    text=\"Welcome back to EduLabs. A place where education prospers, a place where teachers help their students get the best out of their skills and help them grow.\"\n                    image={PanelIcon}\n                />\n\n                <div className=\"body-panel\">\n                    <div className=\"average panel animate__animated animate__fadeInUp\">\n                        <div className=\"title-small\">Results</div>\n                    </div>\n\n                    <div className=\"homework panel animate__animated animate__fadeInUp animate__delay-1s\">\n                        <div className=\"title-small\">Homework</div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default withRouter(Dashboard);"]},"metadata":{},"sourceType":"module"}