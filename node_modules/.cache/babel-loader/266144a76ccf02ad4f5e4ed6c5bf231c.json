{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/tomasboda/Documents/Workspace/React/edulabs/src/app/components/Edit.js\";\nimport React from \"react\";\nimport { setStorageItem, getStorageItem, removeStorageItem, isLogged } from \"../config/Config\";\nimport Api from \"../config/Api\";\nimport Loading from \"./Loading\";\nimport \"../styles/edit.css\";\nexport default class Edit extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: false,\n      firstname: \"\",\n      lastname: \"\",\n      password: \"\",\n      role: \"student\",\n      admin: 0,\n      classrooms: [],\n      classroomName: \"\"\n    };\n    this.createUser = this.createUser.bind(this);\n    this.getClassrooms = this.getClassrooms.bind(this);\n  }\n\n  async createUser() {\n    this.setState({\n      loading: true\n    });\n    const token = getStorageItem(\"token\");\n    const call = await Api.createUser({\n      firstname: this.state.firstname,\n      lastname: this.state.lastname,\n      email: this.state.firstname.toLowerCase() + \".\" + this.state.lastname.toLowerCase() + \"@edulabs.sk\",\n      password: this.state.password,\n      role: this.state.role,\n      admin: this.state.admin\n    }, token);\n\n    if (call.message === \"User registered successfully\") {\n      this.setState({\n        loading: false\n      });\n      this.props.close();\n    }\n  }\n\n  async getClassrooms() {\n    const token = getStorageItem(\"token\");\n    const call = await Api.getClassrooms(token);\n    console.log(call);\n\n    if (call.classrooms) {\n      this.setState({\n        classrooms: call.classrooms\n      });\n    }\n  }\n\n  async createClassroom() {\n    this.setState({\n      loading: true\n    });\n    const token = getStorageItem(\"token\");\n    const call = await Api.createClassroom({\n      name: this.state.classroomName\n    }, token);\n\n    if (call.message === \"Classroom created successfully\") {\n      this.setState({\n        loading: false\n      });\n      this.props.close();\n    }\n  }\n\n  componentDidMount() {\n    if (this.props.type === \"add-user\") {\n      this.getClassrooms();\n    }\n  }\n\n  render() {\n    const type = this.props.type;\n\n    if (type === \"add-user\") {\n      if (this.state.loading) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edit-screen\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"edit\",\n            children: /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 75\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 53\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 24\n        }, this);\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edit-screen\",\n        id: \"add-user\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edit\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"title\",\n            children: [\"Add user\", /*#__PURE__*/_jsxDEV(\"ion-icon\", {\n              name: \"close\",\n              onClick: () => this.props.close()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 56\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"input\",\n            type: \"text\",\n            value: this.state.firstname,\n            onChange: event => this.setState({\n              firstname: event.target.value\n            }),\n            placeholder: \"First name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"input\",\n            type: \"text\",\n            value: this.state.lastname,\n            onChange: event => this.setState({\n              lastname: event.target.value\n            }),\n            placeholder: \"Last name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"input\",\n            type: \"password\",\n            value: this.state.password,\n            onChange: event => this.setState({\n              password: event.target.value\n            }),\n            placeholder: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"choice\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item\",\n              onClick: () => this.setState({\n                role: \"student\"\n              }),\n              style: this.state.role === \"student\" ? {\n                backgroundColor: \"#5E81F4\",\n                color: \"white\"\n              } : null,\n              children: \"Student\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item\",\n              onClick: () => this.setState({\n                role: \"teacher\"\n              }),\n              style: this.state.role === \"teacher\" ? {\n                backgroundColor: \"#5E81F4\",\n                color: \"white\"\n              } : null,\n              children: \"Teacher\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"choice\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item\",\n              onClick: () => this.setState({\n                admin: 1\n              }),\n              style: this.state.admin === 1 ? {\n                backgroundColor: \"#5E81F4\",\n                color: \"white\"\n              } : null,\n              children: \"Admin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item\",\n              onClick: () => this.setState({\n                admin: 0\n              }),\n              style: this.state.admin === 0 ? {\n                backgroundColor: \"#5E81F4\",\n                color: \"white\"\n              } : null,\n              children: \"Regular\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 25\n          }, this), this.state.role === \"student\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"list\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"slider\",\n              children: this.state.classrooms.map(classroom => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"classroom\",\n                children: classroom.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 79\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 29\n          }, this) : null, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"button\",\n            onClick: () => this.createUser(),\n            children: \"Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this);\n    } else if (type === \"add-classroom\") {\n      if (this.state.loading) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edit-screen\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"edit\",\n            children: /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 75\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 53\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 24\n        }, this);\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edit-screen\",\n        id: \"add-classroom\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edit\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"title\",\n            children: [\"Add classroom\", /*#__PURE__*/_jsxDEV(\"ion-icon\", {\n              name: \"close\",\n              onClick: () => this.props.close()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 61\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"input\",\n            type: \"text\",\n            value: this.state.classroomName,\n            onChange: event => this.setState({\n              classroomName: event.target.value\n            }),\n            placeholder: \"Classroom name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"button\",\n            onClick: () => this.createClassroom(),\n            children: \"Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }, this);\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/tomasboda/Documents/Workspace/React/edulabs/src/app/components/Edit.js"],"names":["React","setStorageItem","getStorageItem","removeStorageItem","isLogged","Api","Loading","Edit","Component","constructor","state","loading","firstname","lastname","password","role","admin","classrooms","classroomName","createUser","bind","getClassrooms","setState","token","call","email","toLowerCase","message","props","close","console","log","createClassroom","name","componentDidMount","type","render","event","target","value","backgroundColor","color","map","classroom"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport { setStorageItem, getStorageItem, removeStorageItem, isLogged } from \"../config/Config\";\n\nimport Api from \"../config/Api\";\nimport Loading from \"./Loading\";\n\nimport \"../styles/edit.css\";\n\nexport default class Edit extends React.Component {\n\n    state = {\n        loading: false,\n\n        firstname: \"\",\n        lastname: \"\",\n        password: \"\",\n        role: \"student\",\n        admin: 0,\n        classrooms: [],\n\n        classroomName: \"\"\n    }\n\n    constructor() {\n        super();\n\n        this.createUser = this.createUser.bind(this);\n        this.getClassrooms = this.getClassrooms.bind(this);\n    }\n\n    async createUser() {\n        this.setState({ loading: true });\n\n        const token = getStorageItem(\"token\");\n\n        const call = await Api.createUser({\n            firstname: this.state.firstname,\n            lastname: this.state.lastname,\n            email: this.state.firstname.toLowerCase() + \".\" + this.state.lastname.toLowerCase() + \"@edulabs.sk\",\n            password: this.state.password,\n            role: this.state.role,\n            admin: this.state.admin\n        }, token);\n\n        if (call.message === \"User registered successfully\") {\n            this.setState({ loading: false });\n\n            this.props.close();\n        }\n    }\n\n    async getClassrooms() {\n        const token = getStorageItem(\"token\");\n\n        const call = await Api.getClassrooms(token);\n\n        console.log(call);\n\n        if (call.classrooms) {\n            this.setState({ classrooms: call.classrooms });\n        }\n    }\n\n    async createClassroom() {\n        this.setState({ loading: true });\n\n        const token = getStorageItem(\"token\");\n\n        const call = await Api.createClassroom({\n            name: this.state.classroomName\n        }, token);\n\n        if (call.message === \"Classroom created successfully\") {\n            this.setState({ loading: false });\n\n            this.props.close();\n        }\n    }\n\n    componentDidMount() {\n        if (this.props.type === \"add-user\") {\n            this.getClassrooms();\n        }\n    }\n\n    render() {\n        const type = this.props.type;\n\n        if (type === \"add-user\") {\n            if (this.state.loading) {\n                return <div className=\"edit-screen\"><div className=\"edit\"><Loading /></div></div>;\n            }\n\n            return (\n                <div className=\"edit-screen\" id=\"add-user\">\n                    <div className=\"edit\">\n                        <div className=\"title\">Add user<ion-icon name=\"close\" onClick={() => this.props.close()}></ion-icon></div>\n\n                        <input className=\"input\" type=\"text\" value={this.state.firstname} onChange={(event) => this.setState({ firstname: event.target.value })} placeholder=\"First name\" />\n                        <input className=\"input\" type=\"text\" value={this.state.lastname} onChange={(event) => this.setState({ lastname: event.target.value })} placeholder=\"Last name\" />\n\n                        <br />\n\n                        <input className=\"input\" type=\"password\" value={this.state.password} onChange={(event) => this.setState({ password: event.target.value })} placeholder=\"Password\" />\n\n                        <br />\n                        <br />\n\n                        <div className=\"choice\">\n                            <div className=\"item\" onClick={() => this.setState({ role: \"student\" })} style={this.state.role === \"student\" ? { backgroundColor: \"#5E81F4\", color: \"white\" } : null}>Student</div>\n                            <div className=\"item\" onClick={() => this.setState({ role: \"teacher\" })} style={this.state.role === \"teacher\" ? { backgroundColor: \"#5E81F4\", color: \"white\" } : null}>Teacher</div>\n                        </div>\n\n                        <br />\n\n                        <div className=\"choice\">\n                            <div className=\"item\" onClick={() => this.setState({ admin: 1 })} style={this.state.admin === 1 ? { backgroundColor: \"#5E81F4\", color: \"white\" } : null}>Admin</div>\n                            <div className=\"item\" onClick={() => this.setState({ admin: 0 })} style={this.state.admin === 0 ? { backgroundColor: \"#5E81F4\", color: \"white\" } : null}>Regular</div>\n                        </div>\n\n                        <br />\n\n                        {this.state.role === \"student\" ? (\n                            <div className=\"list\">\n                                <div className=\"slider\">\n                                    {this.state.classrooms.map((classroom) => <div className=\"classroom\">{classroom.name}</div>)}\n                                </div>\n                            </div>\n                        ) : null}\n\n                        <br />\n                        <br />\n\n                        <div className=\"button\" onClick={() => this.createUser()}>Add</div>\n                    </div>\n                </div>\n            )\n        } else if (type === \"add-classroom\") {\n            if (this.state.loading) {\n                return <div className=\"edit-screen\"><div className=\"edit\"><Loading /></div></div>;\n            }\n\n            return (\n                <div className=\"edit-screen\" id=\"add-classroom\">\n                    <div className=\"edit\">\n                        <div className=\"title\">Add classroom<ion-icon name=\"close\" onClick={() => this.props.close()}></ion-icon></div>\n\n                        <input className=\"input\" type=\"text\" value={this.state.classroomName} onChange={(event) => this.setState({ classroomName: event.target.value })} placeholder=\"Classroom name\" />\n\n                        <br />\n                        <br />\n\n                        <div className=\"button\" onClick={() => this.createClassroom()}>Add</div>\n                    </div>\n                </div>\n            )\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}